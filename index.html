<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vercelli: Uno Sguardo al Clima che Cambia</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Rubik:wght@500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <style>
        /* Variabili CSS: Palette Colori Sofisticata e Moderna */
        :root {
            --color-primary-dark: #222831; /* Blu/Nero Profondo */
            --color-secondary-dark: #393e46; /* Grigio Scuro Caldo */
            --color-accent-blue: #00ADB5; /* Blu Acqua Brillante (Accent) */
            --color-accent-green: #68B1A0; /* Verde Terroso Soft (Accent secondario) */
            --color-light-bg: #EEEEEE; /* Grigio Molto Chiaro / Bianco sporco */
            --color-text-dark: #333333; /* Testo Scuro per Leggibilità */
            --color-text-light: #555555; /* Testo Grigio per dettagli */
            --color-white: #FFFFFF; /* Bianco Puro */
            --color-border: #DCDCDC; /* Bordo Sottile */
            --color-warning: #FF6347; /* Rosso-arancio per avvisi/rischi */

            --shadow-subtle: 0 4px 15px rgba(0, 0, 0, 0.08); /* Ombra leggera e diffusa */
            --shadow-hover: 0 10px 30px rgba(0, 0, 0, 0.15); /* Ombra più pronunciata al hover */

            --transition-speed: 0.5s;
            --transition-ease: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Ease-out-quad */

            --border-radius-lg: 25px; /* Bordi più arrotondati */
            --border-radius-md: 15px;
            --border-radius-sm: 8px;
        }

        /* Reset & Base Styling */
        html {
            scroll-behavior: smooth;
            overflow-y: scroll;
            scroll-snap-type: y proximity; /* Per uno scroll più guidato */
        }

        body {
            font-family: 'Lato', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: var(--color-light-bg);
            color: var(--color-text-dark);
            line-height: 1.7; /* Migliorata leggibilità */
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        a {
            color: var(--color-accent-blue);
            text-decoration: none;
            transition: color var(--transition-speed) var(--transition-ease);
        }

        a:hover {
            color: var(--color-primary-dark);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Rubik', sans-serif;
            color: var(--color-primary-dark);
            margin-top: 0;
            margin-bottom: 0.8em;
            font-weight: 700;
            line-height: 1.25;
            letter-spacing: -0.02em; /* Leggermente compattato */
        }

        /* Reintrodotti stili per H1 nell'hero */
        .hero h1 { 
            font-size: clamp(2.8rem, 6vw, 4.8rem); 
            font-weight: 800; 
            color: var(--color-white);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7); /* Ombra per leggibilità */
            margin-bottom: 0; /* Rimosso margine inferiore per assenza di p */
        }

        h2 { font-size: clamp(2.8rem, 6vw, 4.5rem); font-weight: 700; }
        h3 { font-size: clamp(2.0rem, 4vw, 3.2rem); font-weight: 700; } 

        p {
            margin-bottom: 1em;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        /* Utility Classes */
        .container {
            max-width: 1280px; /* Larghezza interna */
            margin: 0 auto;
            padding: 0 40px; /* Padding laterale generoso */
        }

        .text-center { text-align: center; }

        /* Scroll Progress Indicator */
        #scroll-progress-indicator {
            position: fixed;
            top: 0;
            left: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--color-accent-blue) 0%, var(--color-accent-green) 100%);
            width: 0%;
            z-index: 1001;
            transition: width 0.1s linear;
            border-bottom-right-radius: 5px;
        }

        /* Header e Navigazione - Completamente Rinnovato */
        #main-header {
            background-color: transparent; /* Inizialmente trasparente */
            padding: 1.0rem 0; /* Header ancora più stretto */
            z-index: 1000;
            position: fixed;
            top: 0;
            width: 100%;
            transition: background-color var(--transition-speed) var(--transition-ease), 
                        box-shadow 0.4s ease, 
                        backdrop-filter 0.4s ease,
                        padding 0.3s ease;
            border-bottom: 1px solid transparent;
            overflow: hidden; 
        }

        #main-header.scrolled {
            background-color: rgba(255, 255, 255, 0.98); /* Quasi opaco, leggermente trasparente */
            backdrop-filter: blur(15px); /* Effetto vetro smerigliato più pronunciato */
            -webkit-backdrop-filter: blur(15px);
            box-shadow: var(--shadow-subtle);
            border-bottom: 1px solid var(--color-border);
            padding: 0.6rem 0; /* Header più piccolo allo scroll */
        }

        nav {
            display: flex;
            justify-content: center; /* Centrato, senza logo */
            align-items: center;
        }
        
        nav ul {
            display: flex;
            margin: 0;
            padding: 0; /* Assicurati che non ci sia padding */
        }

        nav ul li {
            margin: 0 20px; /* Spazio uniforme tra i link, ancora più stretto */
        }

        .nav-link {
            font-weight: 600;
            font-size: 0.95rem; /* Dimensione del testo più piccola */
            padding: 8px 0; /* Padding ridotto per rendere la navbar più stretta */
            position: relative;
            transition: all var(--transition-speed) var(--transition-ease);
            color: rgba(255, 255, 255, 0.9); /* Inizialmente bianco con trasparenza */
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        #main-header.scrolled .nav-link {
            color: var(--color-text-light); /* Cambia colore allo scroll */
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px; /* Linea ancora più sottile */
            display: block;
            margin-top: 6px; /* Spazio ridotto */
            left: 50%;
            transform: translateX(-50%);
            background: var(--color-accent-blue);
            border-radius: 2px;
            transition: width var(--transition-speed) var(--transition-ease), background-color var(--transition-speed) var(--transition-ease);
        }

        .nav-link:hover::after {
            width: 100%;
            background-color: var(--color-accent-green); /* Cambia colore al hover */
        }
        
        .nav-link.active {
            color: var(--color-white) !important; 
            font-weight: 700;
        }

        .nav-link.active::after {
            width: 100%;
            background-color: var(--color-accent-blue);
        }

        #main-header.scrolled .nav-link.active {
            color: var(--color-primary-dark) !important; /* Testo primario per attivo allo scroll */
        }


        /* Hero Section - AGGIORNATA */
        .hero {
            background-color: var(--color-primary-dark); /* Nuovo sfondo solido profondo */
            height: 100vh; /* Full height */
            position: relative;
            overflow: hidden;
            display: flex; /* Utilizza flexbox per centrare il contenuto */
            align-items: center; /* Centra verticalmente */
            justify-content: center; /* Centra orizzontalmente */
            text-align: center; /* Centra il testo all'interno del container */
            padding: 0 20px; /* Padding per evitare che il testo tocchi i bordi */
        }

        /* Rimosso l'overlay ::before in quanto il background è già scuro e solido */
        /* .hero::before { 
             content: '';
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             background-color: rgba(0, 0, 0, 0.6); 
             backdrop-filter: blur(3px); 
             -webkit-backdrop-filter: blur(3px);
             z-index: 0;
         } */

        .hero-content {
            position: relative; /* Per posizionare il contenuto sopra tutto */
            z-index: 1;
            max-width: 900px; /* Limita la larghezza del testo */
            padding: 20px;
        }

        /* Main Content Sections - Più spazio e stile pulito */
        main {
            padding-bottom: 0;
        }

        section {
            min-height: 90vh; /* Sezioni quasi full height per un effetto slide */
            display: flex;
            align-items: center;
            padding: 120px 0; /* Padding interno generoso */
            position: relative;
            scroll-snap-align: start;
        }
        
        section:first-of-type {
            padding-top: calc(120px + var(--header-height, 80px)); 
        }

        .bg-light-section {
            background-color: var(--color-light-bg);
        }

        section h2 {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            padding-bottom: 30px;
            font-size: clamp(3.0rem, 6.5vw, 4.8rem);
            color: var(--color-primary-dark);
        }

        section h2::after { /* Sottolineatura sofisticata */
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 150px; /* Più larga */
            height: 5px; /* Spessore */
            background: linear-gradient(90deg, var(--color-accent-blue) 0%, var(--color-accent-green) 100%);
            border-radius: 5px;
        }

        section h2 i {
            margin-right: 20px;
            color: var(--color-accent-blue);
            font-size: 0.85em; /* Leggermente più piccola rispetto al testo del titolo */
        }

        .section-description {
            text-align: center;
            max-width: 850px;
            margin: -25px auto 80px auto;
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
            color: var(--color-text-light);
        }

        .card {
            background-color: var(--color-white);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-subtle);
            padding: 70px; /* Padding generoso */
            margin: 0 auto;
            max-width: 1100px;
            transition: transform var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease);
            border: 1px solid var(--color-border);
            position: relative;
            overflow: hidden; /* Per il swiper */
        }

        .card:hover {
            transform: translateY(-18px);
            box-shadow: var(--shadow-hover);
        }

        .card h3 {
            display: flex;
            align-items: center;
            font-size: clamp(2.2rem, 4.5vw, 3.0rem);
            margin-bottom: 30px;
            color: var(--color-primary-dark);
            font-weight: 700;
        }

        .card h3 i {
            margin-right: 25px;
            color: var(--color-accent-blue);
            font-size: 1.05em;
        }

        .card ul {
            margin-top: 30px;
            margin-left: 20px;
            line-height: 2.0; /* Aumentata leggibilità */
        }

        .card ul li {
            list-style: none; /* Rimuoviamo il disc predefinito */
            margin-bottom: 15px;
            color: var(--color-text-dark);
            font-size: 1.2rem;
            display: flex;
            align-items: flex-start;
        }
        .card ul li::before { /* Bullet custom */
            content: "\2022"; /* Bullet Unicode */
            color: var(--color-accent-blue);
            font-size: 1.5em;
            line-height: 1;
            margin-right: 15px;
            flex-shrink: 0;
            transform: translateY(-2px);
        }
        .card ul li strong {
            color: var(--color-primary-dark);
            font-weight: 700;
        }


        /* Introduzione Section - Nuovo Stile */
        #introduzione {
            background-color: var(--color-white); /* Sfondo chiaro per questa sezione */
            padding-top: 120px; 
            padding-bottom: 120px;
            display: block; /* Non più flex per centraggio verticale, gestito da padding */
            text-align: center;
        }

        .intro-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 60px;
            align-items: center;
            text-align: left; /* Il testo all'interno della griglia torna a sinistra */
            margin-top: 80px;
        }

        @media (min-width: 992px) {
            .intro-grid {
                grid-template-columns: 1fr 1fr; /* Due colonne su schermi grandi */
                gap: 80px;
            }
            .intro-content:first-child { /* Allinea il primo blocco di testo a sinistra */
                padding-right: 20px;
            }
            .intro-visual {
                padding-left: 20px;
            }
        }

        .intro-content h3 {
            font-size: clamp(2.4rem, 4.5vw, 3.2rem);
            margin-bottom: 25px;
            color: var(--color-primary-dark);
            text-align: center; /* Titolo interno centrato */
        }
        .intro-content p {
            font-size: 1.2rem;
            line-height: 1.8;
            color: var(--color-text-dark);
            text-align: center; /* Testo interno centrato */
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .intro-visual {
            background-color: var(--color-light-bg);
            border-radius: var(--border-radius-lg);
            padding: 40px;
            min-height: 350px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow-subtle);
            border: 1px solid var(--color-border);
            text-align: center;
            font-size: 1.2rem;
            color: var(--color-text-light);
            position: relative;
            overflow: hidden;
        }
        .intro-visual i {
            font-size: 6rem;
            color: var(--color-accent-blue);
            opacity: 0.3;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-10deg);
            transition: transform 0.6s var(--transition-ease), opacity 0.6s var(--transition-ease);
        }
        .intro-visual:hover i {
            transform: translate(-50%, -50%) rotate(0deg) scale(1.05);
            opacity: 0.5;
        }
        .intro-visual .visual-text {
            position: relative;
            z-index: 1;
            font-weight: 600;
            line-height: 1.4;
        }

        /* Highlights Section */
        .highlight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 45px; /* Spazio generoso */
            margin-top: 50px;
        }

        .highlight-item {
            background-color: var(--color-white);
            border-radius: var(--border-radius-md);
            padding: 50px; /* Padding generoso */
            text-align: center;
            box-shadow: var(--shadow-subtle);
            transition: transform 0.4s var(--transition-ease), box-shadow 0.4s var(--transition-ease), background-color 0.4s var(--transition-ease);
            border: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .highlight-item:hover {
            transform: translateY(-20px);
            box-shadow: var(--shadow-hover);
            background-color: var(--color-light-bg);
        }

        .highlight-item i {
            font-size: 5.5rem; /* Icone grandi */
            color: var(--color-accent-blue);
            margin-bottom: 30px;
            transition: color 0.4s var(--transition-ease), transform 0.4s var(--transition-ease);
        }

        .highlight-item:hover i {
            color: var(--color-accent-green);
            transform: rotate(5deg) scale(1.15);
        }

        .highlight-item h3 {
            font-size: 2.1rem;
            color: var(--color-primary-dark);
            margin-bottom: 20px;
            font-weight: 700;
            line-height: 1.3;
        }

        .highlight-item p {
            font-size: 1.15rem;
            color: var(--color-text-light);
            margin-bottom: 30px;
            flex-grow: 1; /* Per uniformare altezza */
        }

        .highlight-value {
            font-size: clamp(2.2rem, 4.8vw, 3.2rem);
            font-weight: 800;
            color: var(--color-accent-blue); /* Colore accent per i valori */
            display: block;
            margin-top: 25px;
            letter-spacing: -0.04em;
        }

        .highlight-item p.small-note { /* Stile per le note sotto i valori */
            font-size: 0.95em;
            color: var(--color-text-light);
            font-style: italic;
            margin-top: 15px;
            margin-bottom: 0;
            opacity: 0.8;
        }

        .note-global {
            text-align: center;
            margin-top: 80px;
            font-size: 1.05rem;
            color: var(--color-text-light);
            font-style: italic;
            opacity: 0.9;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Indice Cards (Nuovo design) */
        .indice-card {
            background-color: var(--color-white);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-subtle);
            padding: 50px;
            margin-bottom: 45px;
            transition: transform var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease);
            border: 1px solid var(--color-border);
        }

        .indice-card:hover {
            transform: translateY(-15px);
            box-shadow: var(--shadow-hover);
        }

        .indice-card h3 {
            font-size: clamp(2.0rem, 4.2vw, 2.8rem);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            color: var(--color-primary-dark);
        }

        .indice-card h3 i {
            margin-right: 22px;
            font-size: 1.0em;
            color: var(--color-accent-green); /* Verde per accentare i titoli degli indici */
        }

        .indice-card p {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--color-text-dark);
        }

        .indice-card p strong {
            color: var(--color-primary-dark);
            font-weight: 700;
        }

        .highlight-text {
            font-weight: 600;
            color: var(--color-accent-blue);
            font-size: clamp(1.1rem, 2.4vw, 1.35rem);
            margin-top: 30px;
            border-left: 6px solid var(--color-accent-blue);
            padding-left: 20px;
            background-color: rgba(0, 173, 181, 0.05); /* Versione RGB di accent-blue con trasparenza */
            padding: 18px 20px;
            border-radius: 0 var(--border-radius-md) var(--border-radius-md) 0;
            line-height: 1.6;
        }

        /* Grafico Simulato */
        .simulated-graph-container {
            width: 100%;
            height: 350px; /* Altezza aumentata */
            background-color: var(--color-light-bg);
            border-radius: var(--border-radius-md);
            margin-top: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Lato', sans-serif;
            color: var(--color-text-light);
            font-size: 1.2rem;
            border: 2px dashed var(--color-border);
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 1s var(--transition-ease), transform 1s var(--transition-ease);
        }
        .simulated-graph-container.active {
            opacity: 1;
            transform: scale(1);
        }

        .simulated-graph-container.active .graph-placeholder {
             animation: pulse-border-graph 2s infinite alternate;
        }

        @keyframes pulse-border-graph {
            from { border-color: var(--color-border); }
            to { border-color: var(--color-accent-blue); }
        }

        .graph-placeholder {
            padding: 25px;
            text-align: center;
            color: var(--color-text-light);
        }
        .graph-placeholder i {
            font-size: 3.5em;
            margin-bottom: 20px;
            color: var(--color-accent-blue);
        }
        /* Per immagini grafici reali */
        .simulated-graph-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: var(--border-radius-sm);
        }

        /* Stili specifici per gli SVG all'interno di .simulated-graph-container */
        .simulated-graph-container svg {
            width: 95%; /* Leggermente più stretto per i margini */
            height: 95%;
            overflow: visible; /* Per permettere ai marker di overflow */
        }
        .simulated-graph-container .grid-line {
            stroke: var(--color-border);
            stroke-width: 1;
            stroke-dasharray: 4 4;
            opacity: 0.7;
        }
        .simulated-graph-container .axis-line {
            stroke: var(--color-text-light);
            stroke-width: 1.5;
        }
        .simulated-graph-container .axis-label {
            font-size: 14px;
            fill: var(--color-text-light);
            text-anchor: middle;
        }
        .simulated-graph-container .data-line {
            fill: none;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .simulated-graph-container .area {
            opacity: 0.3;
        }
        .simulated-graph-container .data-point {
            fill: var(--color-accent-blue);
            stroke: var(--color-white);
            stroke-width: 2;
        }

        /* Stili specifici per i vari tipi di grafici simulati */
        /* Bar Chart (Regime Pluviometrico, SDII, TX90p) */
        .bar-chart .bar {
            fill: var(--color-accent-blue);
            transition: fill 0.3s ease;
        }
        .bar-chart .bar:hover {
            fill: var(--color-accent-green);
        }
        .bar-chart text {
            font-size: 12px;
            fill: var(--color-text-light);
            text-anchor: middle;
        }

        /* Line Chart (Curve Termiche, PRCPTOT, SPI, SPEI, TN90p) */
        .line-chart .line-max { stroke: #e04e4e; }
        .line-chart .line-avg { stroke: var(--color-accent-blue); }
        .line-chart .line-min { stroke: #6b6b6b; }
        .line-chart .area-avg { fill: var(--color-accent-blue); opacity: 0.1; }
        .line-chart .area-range { fill: #f0f0f0; opacity: 0.5;} /* Per termogramma */


        /* Ombrotermica Specific */
        .ombrotermica .line-temp { stroke: #d62828; stroke-width: 2.5; }
        .ombrotermica .line-prec { stroke: #007bff; stroke-width: 2.5; }
        .ombrotermica .dry-area { fill: #f8d7da; opacity: 0.5; } /* Colore per aree secche */
        .ombrotermica text { font-size: 12px; fill: var(--color-text-light); }


        /* Stili specifici per la mappa Leaflet */
        #map {
            height: 650px; /* Mappa più grande */
            width: 100%;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-subtle);
            margin-top: 45px;
            border: 1px solid var(--color-border);
        }
        .legend {
            background: var(--color-white);
            padding: 15px; 
            font-size: 15px;
            line-height: 1.7;
            box-shadow: var(--shadow-subtle);
            border-radius: var(--border-radius-md);
            border: 1px solid var(--color-border);
        }
        .legend b {
            font-family: 'Rubik', sans-serif;
            color: var(--color-primary-dark);
            font-weight: 700;
            margin-bottom: 10px;
            display: block;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 8px;
        }
        .legend span {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
            vertical-align: middle;
            border: 1px solid rgba(0,0,0,0.1);
        }
        /* Stile per le icone personalizzate sulla mappa */
        .leaflet-marker-icon.map-icon {
            filter: drop-shadow(0 2px 5px rgba(0,0,0,0.3));
        }

        /* Animazioni al Reveal con opacità e trasformazione */
        .content-reveal {
            opacity: 0;
            transform: translateY(60px);
            transition: opacity 1.3s var(--transition-ease), transform 1.3s var(--transition-ease);
        }

        .content-reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title-animated, .section-description {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1.3s var(--transition-ease), transform 1.3s var(--transition-ease);
        }
        .content-reveal.active .section-title-animated { opacity: 1; transform: translateY(0); }
        .content-reveal.active .section-description { opacity: 1; transform: translateY(0); transition-delay: 0.15s; }


        .fade-in { opacity: 0; transition: opacity 1.2s var(--transition-ease); }
        .fade-in.active { opacity: 1; }

        .slide-up { transform: translateY(60px); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-up.active { transform: translateY(0); opacity: 1; }

        .slide-left { transform: translateX(-80px); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-left.active { transform: translateX(0); opacity: 1; }

        .slide-right { transform: translateX(80px); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-right.active { transform: translateX(0); opacity: 1; }

        .scale-in-sm { transform: scale(0.9); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .scale-in-sm.active { transform: scale(1); opacity: 1; }

        /* Ritardi per animazioni sequenziali */
        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; }
        .delay-5 { transition-delay: 0.5s; }
        .delay-6 { transition-delay: 0.6s; }
        .delay-7 { transition-delay: 0.7s; }
        .delay-8 { transition-delay: 0.8s; }
        .delay-9 { transition-delay: 0.9s; }
        .delay-10 { transition-delay: 1.0s; }
        .delay-11 { transition-delay: 1.1s; }

        /* Stili per l'interazione testuale (content-swiper) */
        .content-swiper-container {
            position: relative;
            overflow: hidden; 
            min-height: 450px; /* Altezza minima per contenere gli slide */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        /* Hide all slides by default */
        .content-slide {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.9s var(--transition-ease), transform 0.9s var(--transition-ease);
            position: absolute; /* Position absolute to overlap slides */
            width: 100%;
            top: 0;
            left: 0;
            padding-bottom: 90px; /* Space for controls */
            height: auto;
            min-height: 350px; /* Minimum height for a slide content */
            pointer-events: none; /* Disable interaction when not active */
            visibility: hidden; /* Hide completely when not active */
        }

        /* Only active slide is visible and interactive */
        .content-slide.active {
            opacity: 1;
            transform: translateY(0);
            position: static; /* Position static to take up space and dictate container height */
            pointer-events: auto; /* Enable interaction for active slide */
            visibility: visible; /* Make visible */
        }

        .content-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            border-top: 1px solid var(--color-border);
            padding-top: 30px;
            position: absolute; /* Keep controls at the bottom of the card */
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-white); 
            z-index: 10;
            padding-left: 70px; /* Match card padding */
            padding-right: 70px;
            padding-bottom: 20px; /* Add some padding bottom for the controls */
        }

        .card.content-swiper-container .content-controls {
            /* For the cards that contain the swiper, adjust the absolute positioning */
            left: 0;
            bottom: 0;
            width: 100%;
            /* Make sure this padding respects the original card padding */
            padding-left: 70px;
            padding-right: 70px;
        }


        .content-controls button {
            background-color: var(--color-accent-blue);
            color: var(--color-white);
            border: none;
            padding: 14px 28px;
            border-radius: 50px; 
            cursor: pointer;
            font-weight: 700;
            font-size: 1.05rem;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            text-transform: uppercase;
        }

        .content-controls button:hover {
            background-color: var(--color-accent-green);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .content-control-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-text-dark);
        }

        .content-controls button i {
            margin-right: 10px;
            margin-left: 10px;
        }
        .content-controls button.prev i { margin-right: 10px; margin-left: 0; }
        .content-controls button.next i { margin-left: 10px; margin-right: 0; }
        .content-controls button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            opacity: 0.7;
            box-shadow: none;
            transform: none;
        }

        /* Swiper Pagination (dots) */
        .swiper-pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            position: absolute;
            bottom: 40px; /* Spostato più in alto rispetto ai bottoni */
            left: 50%;
            transform: translateX(-50%);
            z-index: 11; /* Sopra i controlli */
        }

        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: var(--color-text-light);
            border-radius: 50%;
            margin: 0 6px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            opacity: 0.5;
        }

        .swiper-pagination-bullet.active {
            background-color: var(--color-accent-blue);
            opacity: 1;
            transform: scale(1.2);
        }

        /* Footer */
        footer {
            background-color: var(--color-primary-dark);
            color: var(--color-white);
            text-align: center;
            padding: 40px 20px;
            font-size: 0.9rem;
            margin-top: 80px; /* Spazio dal contenuto precedente */
        }

        footer p {
            margin: 0;
            color: rgba(255, 255, 255, 0.7);
        }

        footer a {
            color: var(--color-accent-blue);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: var(--color-accent-green);
        }


        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .container {
                padding: 0 25px;
            }
            nav ul li {
                margin: 0 15px;
            }
            .nav-link {
                font-size: 0.9rem;
            }
            .hero-content h1 {
                font-size: clamp(2.5rem, 6vw, 4rem);
            }
            .hero-content p {
                font-size: 1.1em;
            }
            .card {
                padding: 50px;
            }
            .card h3 i {
                font-size: 0.9em;
            }
            .content-controls {
                padding-left: 50px;
                padding-right: 50px;
            }
        }

        @media (max-width: 768px) {
            #main-header nav {
                justify-content: center; /* Centra la navigazione su schermi piccoli */
            }
            nav ul li {
                margin: 0 10px;
            }
            .nav-link {
                font-size: 0.85rem;
                padding: 6px 0;
            }
            .hero {
                padding: 80px 20px;
            }
            .hero-content h1 {
                font-size: clamp(2rem, 8vw, 3.5rem);
            }
            .hero-content p {
                font-size: 1em;
                margin-bottom: 30px;
            }
            section {
                min-height: auto; /* Disabilita full height su mobile */
                padding: 80px 0;
            }
            section h2 {
                font-size: clamp(2.2rem, 8vw, 3.5rem);
                margin-bottom: 40px;
            }
            .section-description {
                font-size: 1rem;
                margin: -20px auto 60px auto;
            }
            .card {
                padding: 30px;
            }
            .card h3 {
                font-size: clamp(1.8rem, 6vw, 2.5rem);
                margin-bottom: 20px;
            }
            .card ul li {
                font-size: 1.05rem;
            }
            .highlight-grid {
                gap: 30px;
            }
            .highlight-item {
                padding: 35px;
            }
            .highlight-item i {
                font-size: 4.5rem;
                margin-bottom: 20px;
            }
            .highlight-item h3 {
                font-size: 1.8rem;
            }
            .highlight-item p {
                font-size: 1rem;
            }
            .highlight-value {
                font-size: clamp(1.8rem, 6vw, 2.5rem);
            }
            .indice-card {
                padding: 30px;
            }
            .indice-card h3 {
                font-size: clamp(1.6rem, 5vw, 2.2rem);
            }
            .indice-card p {
                font-size: 1rem;
            }
            .highlight-text {
                font-size: 1rem;
                padding: 15px;
            }
            .simulated-graph-container {
                height: 250px;
            }
            #map {
                height: 400px;
            }
            .legend {
                padding: 10px;
                font-size: 13px;
            }
            .content-controls {
                flex-direction: column;
                padding-left: 30px;
                padding-right: 30px;
                padding-bottom: 10px;
            }
            .content-controls button {
                width: 100%;
                margin-bottom: 15px;
                justify-content: center;
            }
            .swiper-pagination {
                bottom: 20px; /* Sposta i pallini più in alto su mobile */
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            nav ul li {
                margin: 0 8px;
            }
            .nav-link {
                font-size: 0.8rem;
            }
            .hero-content h1 {
                font-size: clamp(1.8rem, 9vw, 3rem);
            }
            .btn-primary {
                padding: 12px 25px;
                font-size: 0.95em;
            }
            section {
                padding: 60px 0;
            }
            section h2 {
                font-size: clamp(1.8rem, 9vw, 3rem);
                margin-bottom: 30px;
            }
            .section-description {
                font-size: 0.9rem;
                margin: -15px auto 40px auto;
            }
            .card, .highlight-item, .indice-card {
                padding: 20px;
            }
            .card h3, .highlight-item h3, .indice-card h3 {
                font-size: clamp(1.5rem, 7vw, 2.2rem);
                margin-bottom: 15px;
            }
            .highlight-item i {
                font-size: 3.5rem;
                margin-bottom: 15px;
            }
            .content-controls {
                padding-left: 20px;
                padding-right: 20px;
            }
        }
    </style>
</head>
<body>

    <div id="scroll-progress-indicator"></div>

    <header id="main-header">
        <nav>
            <ul>
                <li><a href="#hero" class="nav-link active">Home</a></li>
                <li><a href="#introduzione" class="nav-link">Introduzione</a></li>
                <li><a href="#punti-chiave" class="nav-link">Punti Chiave</a></li>
                <li><a href="#indici-climatici" class="nav-link">Indici Climatici</a></li>
                <li><a href="#impatti-rischi" class="nav-link">Impatti & Rischi</a></li>
                <li><a href="#mappa-rischi" class="nav-link">Mappa Rischi</a></li>
                <li><a href="#conclusioni" class="nav-link">Conclusioni</a></li>
                <li><a href="#prospettive" class="nav-link">Prospettive</a></li>
                <li><a href="#contatti" class="nav-link">Contatti</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero" class="hero">
            <div class="hero-content">
                <h1>Vercelli: Mappa Interattiva dei Rischi Climatici</h1>
                <p>Esplora i trend degli indici climatici derivati da Climpact e scopri i cambiamenti che stanno modellando il nostro futuro.</p>
                <a href="#introduzione" class="btn-primary">Esplora i Dati <i class="fas fa-arrow-down"></i></a>
            </div>
        </section>

        <section id="introduzione" class="content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-info-circle"></i>Vercelli: Un Clima in Evoluzione</h2>
                <p class="section-description">Questa analisi approfondita rivela i cambiamenti climatici a Vercelli dal 1994 al 2024, fornendo dati e proiezioni per un futuro sostenibile.</p>
                
                <div class="intro-grid slide-up delay-2">
                    <div class="intro-content">
                        <h3>Lo Studio in Sintesi</h3>
                        <p>Il rapporto "Vercelli: Uno Sguardo al Clima che Cambia" è uno studio pionieristico che analizza l'evoluzione degli indici climatici nel territorio di Vercelli negli ultimi 30 anni (1994-2024). Attraverso l'elaborazione di dati climatici storici e l'applicazione di metodologie avanzate, il nostro team ha identificato i trend emergenti e le implicazioni per la comunità locale.</p>
                        <p>Questo progetto mira a fornire una base scientifica solida per la comprensione dei rischi climatici, supportando decisioni informate e strategiche per l'adattamento e la mitigazione a livello locale.</p>
                    </div>
                    <div class="intro-visual">
                        <i class="fas fa-chart-line"></i>
                        <span class="visual-text">Dati climatici complessi trasformati in conoscenza accessibile.</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="punti-chiave" class="bg-light-section content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-key"></i>Punti Chiave dell'Analisi</h2>
                <p class="section-description">Esplora i risultati salienti che delineano il profilo climatico emergente di Vercelli e le sue principali sfide.</p>
                
                <div class="highlight-grid">
                    <div class="highlight-item slide-up delay-1">
                        <i class="fas fa-temperature-high"></i>
                        <h3>Aumento Temperature Medie</h3>
                        <p>Le temperature medie annuali a Vercelli mostrano un trend in aumento significativo, riflettendo il riscaldamento globale.</p>
                        <span class="highlight-value">+1.5°C</span>
                        <p class="small-note">Temperatura media annuale 1994-2024</p>
                    </div>
                    <div class="highlight-item slide-up delay-2">
                        <i class="fas fa-cloud-sun-rain"></i>
                        <h3>Variazioni Precipitazioni</h3>
                        <p>Si osserva una maggiore irregolarità nelle precipitazioni, con episodi più intensi e periodi di siccità prolungati.</p>
                        <span class="highlight-value">25%</span>
                        <p class="small-note">Diminuzione giorni di pioggia (media decennale)</p>
                    </div>
                    <div class="highlight-item slide-up delay-3">
                        <i class="fas fa-tint-slash"></i>
                        <h3>Maggiori Periodi di Siccità</h3>
                        <p>L'incidenza e la durata degli eventi siccitosi sono in crescita, impattando agricoltura e risorse idriche.</p>
                        <span class="highlight-value">+15%</span>
                        <p class="small-note">Durata media episodi di siccità (anni)</p>
                    </div>
                    <div class="highlight-item slide-up delay-4">
                        <i class="fas fa-sun"></i>
                        <h3>Aumento Ondate di Calore</h3>
                        <p>La frequenza e l'intensità delle ondate di calore sono aumentate, con un impatto sulla salute pubblica.</p>
                        <span class="highlight-value">+10 giorni/anno</span>
                        <p class="small-note">Media giorni con temperature > 30°C</p>
                    </div>
                </div>
                <p class="note-global fade-in delay-5">Questi dati sono derivati da analisi climatiche condotte sulla stazione meteorologica di Vercelli e modelli di proiezione.</p>
            </div>
        </section>

        <section id="indici-climatici" class="content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-chart-area"></i>Indici Climatici Analizzati</h2>
                <p class="section-description">Approfondisci gli specifici indici climatici utilizzati per monitorare i cambiamenti a Vercelli.</p>

                <div class="card indice-card slide-up delay-1">
                    <div class="content-swiper-container">
                        <h3><i class="fas fa-chart-line"></i>Regime Ombrotermico</h3>
                        <div class="content-slide active" data-slide="1">
                            <p>Il regime ombrotermico evidenzia la relazione tra precipitazioni e temperature, indicando periodi di siccità o abbondanza idrica. A Vercelli, si osserva un allungamento del periodo secco estivo, cruciale per l'agricoltura locale.</p>
                            <div class="simulated-graph-container ombrotermica active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="750" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <line x1="750" y1="50" x2="750" y2="250" class="axis-line" />

                                    <text x="135" y="270" class="axis-label">Gen</text>
                                    <text x="195" y="270" class="axis-label">Feb</text>
                                    <text x="255" y="270" class="axis-label">Mar</text>
                                    <text x="315" y="270" class="axis-label">Apr</text>
                                    <text x="375" y="270" class="axis-label">Mag</text>
                                    <text x="435" y="270" class="axis-label">Giu</text>
                                    <text x="495" y="270" class="axis-label">Lug</text>
                                    <text x="555" y="270" class="axis-label">Ago</text>
                                    <text x="615" y="270" class="axis-label">Set</text>
                                    <text x="675" y="270" class="axis-label">Ott</text>
                                    <text x="735" y="270" class="axis-label">Nov</text>
                                    <text x="795" y="270" class="axis-label">Dic</text>

                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">25</text>
                                    <text x="80" y="150" class="axis-label">50</text>
                                    <text x="80" y="100" class="axis-label">75</text>
                                    <text x="80" y="50" class="axis-label">100 (mm)</text>

                                    <text x="770" y="250" class="axis-label">0</text>
                                    <text x="770" y="200" class="axis-label">12.5</text>
                                    <text x="770" y="150" class="axis-label">25</text>
                                    <text x="770" y="100" class="axis-label">37.5</text>
                                    <text x="770" y="50" class="axis-label">50 (°C)</text>

                                    <polyline class="data-line line-prec" points="135,150 195,170 255,160 315,130 375,100 435,110 495,120 555,135 615,180 675,190 735,210 795,180" />
                                    <polyline class="data-line line-temp" points="135,200 195,190 255,170 315,140 375,90 435,70 495,60 555,80 615,110 675,140 735,170 795,190" />
                                    
                                    <path class="dry-area" d="M375,100 L375,90 L435,70 L495,60 L555,80 L555,135 L495,120 L435,110 Z" />
                                    <text x="465" y="100" fill="#dc3545" font-weight="bold">Periodo Secco</text>
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Indispensabile per la gestione delle risorse idriche e la pianificazione agricola, mostrando i periodi di stress idrico.</p>
                        </div>
                        <div class="content-slide" data-slide="2">
                            <h3><i class="fas fa-cloud-showers-heavy"></i>SDII (Simple Daily Intensity Index)</h3>
                            <p>L'SDII misura l'intensità media delle precipitazioni nei giorni di pioggia. Un aumento di questo indice suggerisce eventi piovosi più intensi ma meno frequenti.</p>
                            <div class="simulated-graph-container bar-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="700" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">2000</text>
                                    <text x="250" y="270" class="axis-label">2005</text>
                                    <text x="350" y="270" class="axis-label">2010</text>
                                    <text x="450" y="270" class="axis-label">2015</text>
                                    <text x="550" y="270" class="axis-label">2020</text>
                                    <text x="650" y="270" class="axis-label">2024</text>
                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">5</text>
                                    <text x="80" y="150" class="axis-label">10</text>
                                    <text x="80" y="100" class="axis-label">15</text>
                                    <text x="80" y="50" class="axis-label">20 (mm/g)</text>
                                    
                                    <rect x="130" y="190" width="40" height="60" class="bar" />
                                    <rect x="230" y="180" width="40" height="70" class="bar" />
                                    <rect x="330" y="170" width="40" height="80" class="bar" />
                                    <rect x="430" y="160" width="40" height="90" class="bar" />
                                    <rect x="530" y="150" width="40" height="100" class="bar" />
                                    <rect x="630" y="140" width="40" height="110" class="bar" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Cruciale per la prevenzione di allagamenti e per la gestione del drenaggio urbano, indicando un cambiamento nel regime delle piogge.</p>
                        </div>
                        <div class="content-slide" data-slide="3">
                            <h3><i class="fas fa-chart-area"></i>PRCPTOT (Total Annual Precipitation)</h3>
                            <p>PRCPTOT indica la quantità totale di precipitazioni annuali. Un suo calo a Vercelli può indicare un deficit idrico complessivo, con ripercussioni sull'agricoltura e l'ecosistema.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="700" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">200</text>
                                    <text x="80" y="150" class="axis-label">400</text>
                                    <text x="80" y="100" class="axis-label">600</text>
                                    <text x="80" y="50" class="axis-label">800 (mm)</text>
                                    
                                    <polyline class="data-line line-avg" points="130,100 180,120 230,110 280,105 330,130 380,115 430,100 480,90 530,85 580,75 630,70 680,60" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Fornisce una visione d'insieme della disponibilità idrica, fondamentale per l'agricoltura, le riserve idriche e la gestione dei corsi d'acqua.</p>
                        </div>
                        <div class="content-slide" data-slide="4">
                            <h3><i class="fas fa-thermometer-half"></i>TN90p (Warm Nights)</h3>
                            <p>TN90p indica il numero di giorni in cui la temperatura minima giornaliera supera il 90° percentile. Un suo aumento segnala notti più calde, con impatti sulla salute umana e sull'ecosistema.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="700" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">10</text>
                                    <text x="80" y="150" class="axis-label">20</text>
                                    <text x="80" y="100" class="axis-label">30</text>
                                    <text x="80" y="50" class="axis-label">40 (Giorni)</text>
                                    
                                    <polyline class="data-line line-max" points="130,220 180,200 230,190 280,170 330,150 380,130 430,110 480,90 530,70 580,60 630,55 680,50" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Essenziale per monitorare il benessere termico della popolazione e l'impatto del calore notturno sul sonno e sulla salute generale.</p>
                        </div>
                        <div class="content-slide" data-slide="5">
                            <h3><i class="fas fa-thermometer-three-quarters"></i>TX90p (Hot Days)</h3>
                            <p>TX90p misura il numero di giorni in cui la temperatura massima giornaliera supera il 90° percentile. Questo indice è diretto indicatore della frequenza e intensità delle ondate di calore.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="700" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">10</text>
                                    <text x="80" y="150" class="axis-label">20</text>
                                    <text x="80" y="100" class="axis-label">30</text>
                                    <text x="80" y="50" class="axis-label">40 (Giorni)</text>
                                    
                                    <polyline class="data-line line-max" points="130,230 180,210 230,180 280,160 330,130 380,100 430,80 480,70 530,60 580,55 630,50 680,45" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Indice chiave per la sanità pubblica e la gestione delle emergenze legate alle ondate di calore, essenziale per l'allerta precoce.</p>
                        </div>
                        <div class="content-slide" data-slide="6">
                            <h3><i class="fas fa-wind"></i>DTR (Diurnal Temperature Range)</h3>
                            <p>Il DTR indica la differenza tra la temperatura massima e minima giornaliera. Variazioni in questo indice possono indicare cambiamenti nella copertura nuvolosa o nell'umidità dell'aria.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="250" x2="700" y2="250" class="axis-line" />
                                    <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">0</text>
                                    <text x="80" y="200" class="axis-label">5</text>
                                    <text x="80" y="150" class="axis-label">10</text>
                                    <text x="80" y="100" class="axis-label">15</text>
                                    <text x="80" y="50" class="axis-label">20 (°C)</text>
                                    
                                    <polyline class="data-line line-avg" points="130,180 180,170 230,160 280,150 330,140 380,130 430,120 480,110 530,100 580,90 630,80 680,70" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Utile per comprendere l'effetto isola di calore urbano e le variazioni nei pattern di copertura nuvolosa e umidità atmosferica.</p>
                        </div>
                        <div class="content-slide" data-slide="7">
                            <h3><i class="fas fa-water"></i>SPI (Standardized Precipitation Index)</h3>
                            <p>Lo SPI è un indice di siccità che quantifica il deficit o l'eccesso di precipitazioni su diverse scale temporali. A Vercelli, un SPI negativo persistente indica condizioni di siccità.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="150" x2="700" y2="150" class="axis-line" stroke-dasharray="none" /> <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">-2</text>
                                    <text x="80" y="200" class="axis-label">-1</text>
                                    <text x="80" y="150" class="axis-label">0</text>
                                    <text x="80" y="100" class="axis-label">1</text>
                                    <text x="80" y="50" class="axis-label">2</text>
                                    
                                    <polyline class="data-line line-avg" points="130,150 180,130 230,180 280,100 330,160 380,80 430,190 480,110 530,220 580,140 630,90 680,210" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Strumento essenziale per la pianificazione e la gestione della siccità, indicando la gravità e la durata degli eventi di scarsità idrica.</p>
                        </div>
                        <div class="content-slide" data-slide="8">
                            <h3><i class="fas fa-water"></i>SPEI (Standardized Precipitation-Evapotranspiration Index)</h3>
                            <p>Lo SPEI è un indice di siccità più completo dello SPI, in quanto considera sia le precipitazioni che l'evapotraspirazione. È particolarmente utile per monitorare la siccità agricola e idrologica.</p>
                            <div class="simulated-graph-container line-chart active">
                                <svg viewBox="0 0 800 300">
                                    <line x1="100" y1="150" x2="700" y2="150" class="axis-line" stroke-dasharray="none" /> <line x1="100" y1="50" x2="100" y2="250" class="axis-line" />
                                    <text x="150" y="270" class="axis-label">1995</text>
                                    <text x="250" y="270" class="axis-label">2000</text>
                                    <text x="350" y="270" class="axis-label">2005</text>
                                    <text x="450" y="270" class="axis-label">2010</text>
                                    <text x="550" y="270" class="axis-label">2015</text>
                                    <text x="650" y="270" class="axis-label">2020</text>
                                    <text x="80" y="250" class="axis-label">-2</text>
                                    <text x="80" y="200" class="axis-label">-1</text>
                                    <text x="80" y="150" class="axis-label">0</text>
                                    <text x="80" y="100" class="axis-label">1</text>
                                    <text x="80" y="50" class="axis-label">2</text>
                                    
                                    <polyline class="data-line line-max" points="130,140 180,120 230,170 280,90 330,150 380,70 430,180 480,100 530,210 580,130 630,80 680,200" />
                                </svg>
                            </div>
                            <p class="highlight-text"><strong>Rilevanza:</strong> Fornisce una valutazione più accurata della siccità, integrando gli effetti della temperatura sull'evaporazione, fondamentale per settori come l'agricoltura e la gestione idrica.</p>
                        </div>
                    </div>

                    <div class="content-controls">
                        <button id="prev-slide" class="prev"><i class="fas fa-chevron-left"></i> Indietro</button>
                        <div class="swiper-pagination"></div>
                        <button id="next-slide" class="next">Avanti <i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
        </section>

        <section id="impatti-rischi" class="bg-light-section content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-exclamation-triangle"></i>Impatti e Rischi Climatici</h2>
                <p class="section-description">I cambiamenti climatici a Vercelli comportano una serie di impatti significativi, con rischi crescenti per diversi settori.</p>

                <div class="card slide-up delay-1">
                    <h3><i class="fas fa-hand-holding-water"></i>Gestione Risorse Idriche</h3>
                    <ul>
                        <li><strong>Sicurezza Alimentare:</strong> La riduzione della disponibilità idrica influisce sulla coltivazione del riso, pilastro dell'economia locale, e su altre colture.</li>
                        <li><strong>Ecosistemi Acquatici:</strong> La diminuzione dei livelli dei fiumi e dei canali minaccia la biodiversità acquatica e gli habitat naturali.</li>
                        <li><strong>Disponibilità Idrica Urbana:</strong> Possibili restrizioni nell'uso dell'acqua potabile e per scopi igienici durante periodi prolungati di siccità.</li>
                    </ul>
                </div>

                <div class="card slide-up delay-2" style="margin-top: 45px;">
                    <h3><i class="fas fa-leaf"></i>Agricoltura e Biodiversità</h3>
                    <ul>
                        <li><strong>Stress Idrico delle Colture:</strong> Le colture, in particolare il riso, subiranno maggiore stress idrico, richiedendo nuove strategie di irrigazione.</li>
                        <li><strong>Variazione Cicli Colturali:</strong> Anticipo o ritardo delle fasi fenologiche delle piante, con impatti sulla produttività.</li>
                        <li><strong>Adattamento Specie:</strong> La flora e la fauna locali dovranno adattarsi a nuove condizioni, con il rischio di perdita di biodiversità.</li>
                    </ul>
                </div>

                <div class="card slide-up delay-3" style="margin-top: 45px;">
                    <h3><i class="fas fa-city"></i>Salute Umana e Infrastrutture</h3>
                    <ul>
                        <li><strong>Ondate di Calore:</strong> Aumento del rischio di colpi di calore, disidratazione e aggravamento di patologie preesistenti, soprattutto per anziani e bambini.</li>
                        <li><strong>Stress Termico:</strong> Impatto negativo sulle condizioni di lavoro all'aperto e sulla qualità della vita urbana durante i mesi estivi.</li>
                        <li><strong>Infrastrutture Critiche:</strong> Potenziali danni a strade, ponti e edifici a causa di eventi estremi (alluvioni, frane, siccità).</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="mappa-rischi" class="content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-map-marked-alt"></i>Mappa Interattiva dei Rischi</h2>
                <p class="section-description">Esplora la mappa interattiva di Vercelli per visualizzare le aree a maggiore rischio climatico e i dati correlati.</p>
                <div id="map" class="fade-in delay-1"></div>
            </div>
        </section>

        <section id="conclusioni" class="bg-light-section content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-check-circle"></i>Conclusioni e Raccomandazioni</h2>
                <p class="section-description">Affrontare i cambiamenti climatici a Vercelli richiede un approccio proattivo e coordinato.</p>
                <div class="card slide-up delay-1">
                    <h3><i class="fas fa-lightbulb"></i>Strategie di Adattamento</h3>
                    <ul>
                        <li><strong>Monitoraggio Continuo:</strong> Implementare sistemi avanzati per il monitoraggio climatico e idrologico.</li>
                        <li><strong>Pianificazione Urbana:</strong> Integrare la resilienza climatica nei piani regolatori e nello sviluppo infrastrutturale.</li>
                        <li><strong>Agricoltura Sostenibile:</strong> Promuovere pratiche agricole resilienti alla siccità e al calore, come colture più resistenti e tecniche di irrigazione efficienti.</li>
                        <li><strong>Sensibilizzazione:</strong> Educare la cittadinanza sui rischi e sulle buone pratiche di adattamento.</li>
                    </ul>
                </div>
                <div class="card slide-up delay-2" style="margin-top: 45px;">
                    <h3><i class="fas fa-seedling"></i>Mitigazione e Sostenibilità</h3>
                    <ul>
                        <li><strong>Energie Rinnovabili:</strong> Incentivare la transizione verso fonti energetiche pulite per ridurre le emissioni.</li>
                        <li><strong>Mobilità Sostenibile:</strong> Promuovere l'uso dei trasporti pubblici, della bicicletta e della mobilità elettrica.</li>
                        <li><strong>Forestazione Urbana:</strong> Aumentare le aree verdi in città per mitigare l'effetto isola di calore e assorbire CO2.</li>
                        <li><strong>Economia Circolare:</strong> Adottare modelli di produzione e consumo che riducano gli sprechi e l'impronta ecologica.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="prospettive" class="content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-binoculars"></i>Prossimi Passi e Prospettive</h2>
                <p class="section-description">Guardando al futuro, il progetto "Climpact Vercelli" si impegna nell'espansione e nell'approfondimento della ricerca.</p>
                <div class="card slide-up delay-1">
                    <h3><i class="fas fa-flask"></i>Ricerca e Innovazione</h3>
                    <ul>
                        <li><strong>Modelli Predittivi:</strong> Sviluppare modelli climatici più sofisticati per previsioni a lungo termine.</li>
                        <li><strong>Collaborazioni:</strong> Estendere le collaborazioni con università, enti di ricerca e istituzioni locali.</li>
                        <li><strong>Tecnologie IoT:</strong> Integrare sensori IoT per un monitoraggio in tempo reale e dati più granulari.</li>
                    </ul>
                </div>
                <div class="card slide-up delay-2" style="margin-top: 45px;">
                    <h3><i class="fas fa-users"></i>Coinvolgimento della Comunità</h3>
                    <ul>
                        <li><strong>Workshop e Eventi:</strong> Organizzare incontri pubblici per discutere i risultati e raccogliere feedback.</li>
                        <li><strong>Piattaforme Interattive:</strong> Creare strumenti online che permettano ai cittadini di esplorare i dati e contribuire attivamente.</li>
                        <li><strong>Educazione:</strong> Programmi educativi nelle scuole per sensibilizzare le nuove generazioni sui temi climatici.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="contatti" class="bg-light-section content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-envelope"></i>Contattaci</h2>
                <p class="section-description">Hai domande o vuoi contribuire? Siamo a tua disposizione.</p>
                <div class="card slide-up delay-1 text-center">
                    <h3><i class="fas fa-paper-plane"></i>Mettiti in Contatto</h3>
                    <p>Per qualsiasi informazione o collaborazione, non esitare a contattarci.</p>
                    <p>Email: <a href="mailto:info@climpactvercelli.it">info@climpactvercelli.it</a></p>
                    <p>Telefono: +39 0161 1234567</p>
                    <p>Seguici sui social media:</p>
                    <p>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin fa-2x"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter-square fa-2x"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-facebook-square fa-2x"></i></a>
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2024 Climpact Vercelli. Tutti i diritti riservati.</p>
        <p>Realizzato con il supporto della comunità scientifica e locale.</p>
    </footer>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Scroll progress indicator
            const scrollProgress = document.getElementById('scroll-progress-indicator');
            const mainHeader = document.getElementById('main-header');
            const navLinks = document.querySelectorAll('.nav-link');

            function updateScrollProgress() {
                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (window.scrollY / scrollHeight) * 100;
                scrollProgress.style.width = scrolled + '%';

                if (window.scrollY > 50) { // O qualsiasi valore dopo il quale l'header dovrebbe cambiare
                    mainHeader.classList.add('scrolled');
                } else {
                    mainHeader.classList.remove('scrolled');
                }

                // Highlight active nav link based on scroll position
                const sections = document.querySelectorAll('section');
                let currentActive = null;
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - mainHeader.offsetHeight - 50; // Adjusted for header height and offset
                    const sectionBottom = sectionTop + section.offsetHeight;
                    if (window.scrollY >= sectionTop && window.scrollY < sectionBottom) {
                        currentActive = section.id;
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === currentActive) {
                        link.classList.add('active');
                    }
                });
            }

            window.addEventListener('scroll', updateScrollProgress);
            updateScrollProgress(); // Initial call

            // Animations on scroll (Content Reveal)
            const contentReveals = document.querySelectorAll('.content-reveal');
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the element is visible
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        // Optional: stop observing once activated
                        // observer.unobserve(entry.target); 
                    } else {
                        // Optional: remove 'active' class when out of view
                        // entry.target.classList.remove('active');
                    }
                });
            }, observerOptions);

            contentReveals.forEach(el => observer.observe(el));


            // Content Swiper for Indici Climatici
            const contentSwiperContainer = document.querySelector('.content-swiper-container');
            const slides = contentSwiperContainer ? contentSwiperContainer.querySelectorAll('.content-slide') : [];
            const prevButton = document.getElementById('prev-slide');
            const nextButton = document.getElementById('next-slide');
            const paginationContainer = document.querySelector('.swiper-pagination');
            let currentSlide = 0;

            if (slides.length > 0) {
                // Create pagination bullets
                slides.forEach((_, index) => {
                    const bullet = document.createElement('span');
                    bullet.classList.add('swiper-pagination-bullet');
                    bullet.addEventListener('click', () => showSlide(index));
                    paginationContainer.appendChild(bullet);
                });

                function showSlide(index) {
                    slides.forEach((slide, i) => {
                        slide.classList.remove('active');
                        if (i === index) {
                            slide.classList.add('active');
                        }
                    });

                    // Update pagination bullets
                    const bullets = paginationContainer.querySelectorAll('.swiper-pagination-bullet');
                    bullets.forEach((bullet, i) => {
                        bullet.classList.remove('active');
                        if (i === index) {
                            bullet.classList.add('active');
                        }
                    });

                    currentSlide = index;
                    updateButtons();
                }

                function updateButtons() {
                    prevButton.disabled = currentSlide === 0;
                    nextButton.disabled = currentSlide === slides.length - 1;
                }

                prevButton.addEventListener('click', () => {
                    if (currentSlide > 0) {
                        showSlide(currentSlide - 1);
                    }
                });

                nextButton.addEventListener('click', () => {
                    if (currentSlide < slides.length - 1) {
                        showSlide(currentSlide + 1);
                    }
                });

                showSlide(0); // Show the first slide initially
            } else {
                // If no slides found, hide controls to prevent errors
                if (prevButton) prevButton.style.display = 'none';
                if (nextButton) nextButton.style.display = 'none';
                if (paginationContainer) paginationContainer.style.display = 'none';
            }


            // Leaflet Map Initialization
            if (document.getElementById('map')) {
                const map = L.map('map').setView([45.3283, 8.3719], 12); // Coordonate approssimative di Vercelli

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                // Esempio di marker per Vercelli
                const vercelliMarker = L.marker([45.3283, 8.3719], {
                    icon: L.divIcon({
                        className: 'map-icon',
                        html: '<i class="fas fa-map-marker-alt fa-3x" style="color: #FF6347;"></i>',
                        iconSize: [40, 40],
                        iconAnchor: [20, 40]
                    })
                }).addTo(map)
                .bindPopup('<b>Vercelli</b><br>Area di studio principale.')
                .openPopup();

                // Puoi aggiungere più markers, poligoni, cerchi qui per rappresentare i rischi
                // Esempio: un cerchio per un'ipotetica area a rischio siccità
                L.circle([45.30, 8.40], {
                    color: 'orange',
                    fillColor: '#ffa500',
                    fillOpacity: 0.3,
                    radius: 3000
                }).addTo(map).bindPopup('Area a rischio siccità.');

                // Esempio di legenda (sarebbe da generare dinamicamente o predefinire)
                const legend = L.control({ position: 'bottomright' });
                legend.onAdd = function (map) {
                    const div = L.DomUtil.create('div', 'info legend');
                    div.innerHTML = '<b>Legenda Rischi</b><br>' +
                                    '<span></span> Rischio Siccità<br>' +
                                    '<span style="background-color: #FF6347;"></span> Punto di Interesse';
                    return div;
                };
                legend.addTo(map);
            }
        });
    </script>
</body>
</html>
