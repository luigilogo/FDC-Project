<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climpact Vercelli - Presentazione Interattiva sul Clima</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <style>
        /* Variabili CSS: Palette Colori Moderna e Vivace */
        :root {
            --primary-color: #2c3e50; /* Blu scuro quasi nero */
            --secondary-color: #3498db; /* Blu cielo brillante */
            --accent-color: #27ae60; /* Verde vibrante per evidenza */
            --warning-color: #e74c3c; /* Rosso per alert/negativo */
            --text-color: #34495e; /* Grigio scuro leggibile */
            --light-text-color: #7f8c8d; /* Grigio medio per testo secondario */
            --bg-color: #ecf0f1; /* Sfondo molto chiaro, quasi bianco-grigio */
            --card-bg: #ffffff; /* Sfondo schede bianco puro */
            --bg-light: #f5f7f8; /* Sfondo leggermente grigio per alternare */
            --border-color: #dde1e6; /* Bordo sottile delicato */
            --shadow-light: 0 5px 20px rgba(0,0,0,0.08); /* Ombra più definita ma leggera */
            --shadow-hover: 0 15px 40px rgba(0,0,0,0.18); /* Ombra pronunciata al hover */
            --transition-speed: 0.6s; /* Velocità di transizione generale */
            --transition-ease: cubic-bezier(0.65, 0.05, 0.36, 1); /* Curva di easing "ease-out-quad" */
            --border-radius-lg: 20px;
            --border-radius-md: 12px;
        }

        /* Base Body e Tipografia */
        html {
            scroll-behavior: smooth;
            overflow-y: scroll; /* Assicura che la scrollbar sia sempre presente */
            scroll-snap-type: y proximity; /* Abilita lo scroll snapping */
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8; /* Aumentato per migliore leggibilità */
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        a {
            color: var(--secondary-color);
            text-decoration: none;
            transition: color var(--transition-speed) var(--transition-ease), transform 0.2s ease;
        }

        a:hover {
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 0.8em;
            font-weight: 800;
            line-height: 1.2;
        }

        h1 { font-size: clamp(3.2rem, 7vw, 5.0rem); } 
        h2 { font-size: clamp(2.5rem, 6vw, 3.8rem); }
        h3 { font-size: clamp(1.8rem, 4vw, 2.5rem); } 

        ul {
            list-style: none;
            padding: 0;
        }

        .container {
            max-width: 1300px; /* Larghezza aumentata */
            margin: 0 auto;
            padding: 0 30px;
        }

        /* Scroll Progress Indicator */
        #scroll-progress-indicator {
            position: fixed;
            top: 0;
            left: 0;
            height: 6px; /* Più spesso */
            background: linear-gradient(90deg, var(--secondary-color) 0%, var(--accent-color) 100%);
            width: 0%;
            z-index: 1001;
            transition: width 0.1s linear;
        }

        /* Header e Navigazione - REVISIONATO */
        #main-header {
            background-color: rgba(255, 255, 255, 0); /* Inizialmente trasparente */
            padding: 1rem 0;
            z-index: 1000;
            transition: background-color var(--transition-speed) var(--transition-ease), box-shadow 0.3s ease, backdrop-filter 0.3s ease;
            position: fixed;
            top: 0;
            width: 100%;
            border-bottom: 1px solid transparent; /* Bordo invisibile all'inizio */
        }

        #main-header.scrolled {
            background-color: rgba(255, 255, 255, 0.95); /* Semi-trasparente bianco */
            backdrop-filter: blur(10px); /* Effetto vetro smerigliato */
            -webkit-backdrop-filter: blur(10px); /* Compatibilità Safari */
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); /* Ombra leggera */
            border-bottom: 1px solid var(--border-color); /* Bordo sottile */
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 900; /* Più audace */
            color: white; /* Inizialmente bianco per contrasto con hero */
            display: flex;
            align-items: center;
            letter-spacing: -1px; /* Compattato */
            user-select: none;
            transition: color var(--transition-speed) var(--transition-ease);
        }

        #main-header.scrolled .logo {
            color: var(--primary-color); /* Cambia colore allo scroll */
        }

        .logo i {
            margin-right: 12px;
            font-size: 1.3em;
            color: var(--accent-color); /* Icona sempre verde */
            transition: transform 0.4s var(--transition-ease);
        }

        .logo:hover i {
            transform: rotate(-15deg) scale(1.2);
        }

        nav ul {
            display: flex;
            margin: 0;
        }

        nav ul li {
            margin-left: 35px;
        }

        .nav-link {
            font-weight: 600;
            font-size: 1.1rem;
            padding: 12px 0;
            position: relative;
            transition: all var(--transition-speed) var(--transition-ease);
            color: rgba(255, 255, 255, 0.8); /* Inizialmente bianco leggermente trasparente */
        }

        #main-header.scrolled .nav-link {
            color: var(--light-text-color); /* Cambia colore allo scroll */
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 4px; /* Più spesso */
            display: block;
            margin-top: 6px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-color); /* Colore accent per la linea */
            border-radius: 5px;
            transition: width var(--transition-speed) var(--transition-ease);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .nav-link.active {
            color: white !important; /* Testo bianco per attivo sul hero */
            font-weight: 700;
        }

        #main-header.scrolled .nav-link.active {
            color: var(--primary-color) !important; /* Testo primario per attivo allo scroll */
        }

        /* Hero Section - Più Dinamica */
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            text-align: center;
            padding: 150px 20px 100px; /* Più padding top */
            min-height: 85vh; /* Quasi full height */
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            background-size: 200% 200%;
            animation: gradientShift 20s ease infinite alternate;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 1000px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(30px);
        }

        .hero-content.active {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
            transition-delay: 0.3s;
        }

        .hero-title {
            color: white;
            font-size: clamp(3.5rem, 8vw, 5.5rem);
            margin-bottom: 30px;
            text-shadow: 4px 4px 10px rgba(0,0,0,0.6);
            line-height: 1.1;
            opacity: 0;
            transform: translateY(30px);
        }

        .hero-content.active .hero-title {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
            transition-delay: 0.6s;
        }

        .hero-subtitle {
            font-size: clamp(1.4rem, 3.2vw, 1.8rem);
            max-width: 900px;
            margin: 0 auto 50px;
            opacity: 0.98;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
            opacity: 0;
            transform: translateY(30px);
        }

        .hero-content.active .hero-subtitle {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
            transition-delay: 0.9s;
        }

        .hero-button {
            opacity: 0;
            transform: scale(0.9);
        }

        .hero-content.active .hero-button {
            opacity: 1;
            transform: scale(1);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
            transition-delay: 1.2s;
        }

        .button-primary {
            display: inline-block;
            background-color: var(--accent-color);
            color: white;
            padding: 20px 45px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.3rem;
            transition: background-color var(--transition-speed) var(--transition-ease), transform 0.3s var(--transition-ease), box-shadow 0.3s var(--transition-ease);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .button-primary:hover {
            background-color: #229954;
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }

        .button-primary i {
            margin-left: 15px;
        }

        /* Main Content Sections - Snapshot / Presentation Style */
        main {
            padding-bottom: 0; /* Rimuovi padding inferiore, gestito dalle sezioni */
        }

        section {
            min-height: 85vh; /* Altezza minima per la slide */
            display: flex;
            align-items: center;
            padding: 100px 0; /* Padding interno */
            position: relative;
            scroll-snap-align: start; /* Snap all'inizio della sezione */
        }
        
        section:first-of-type {
            padding-top: calc(100px + var(--header-height, 80px)); /* Padding top iniziale */
        }

        .section-padding {
            padding: 80px 0; /* Fallback o per sezioni più corte */
        }

        .bg-light {
            background-color: var(--bg-light);
        }

        section h2 {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
            padding-bottom: 25px;
            font-size: clamp(2.8rem, 6vw, 4.0rem);
            color: var(--primary-color);
        }

        section h2::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 120px; /* Più larga */
            height: 6px; /* Più spessa */
            background-color: var(--secondary-color);
            border-radius: 6px;
        }

        section h2 i {
            margin-right: 18px;
            color: var(--secondary-color);
            font-size: 0.9em; /* Leggermente più piccola rispetto al testo del titolo */
        }

        .section-title-animated {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
        }

        .content-reveal.active .section-title-animated {
            opacity: 1;
            transform: translateY(0);
        }

        .section-description {
            text-align: center;
            max-width: 900px;
            margin: -25px auto 60px auto;
            font-size: clamp(1.15rem, 2.5vw, 1.4rem);
            color: var(--light-text-color);
            opacity: 0;
            transform: translateY(20px);
        }

        .content-reveal.active .section-description {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
            transition-delay: 0.2s;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-light);
            padding: 60px; /* Più padding */
            margin: 0 auto;
            max-width: 1100px; /* Più larga */
            transition: transform var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease);
            border: 1px solid var(--border-color);
            position: relative; /* Per lo swiper */
        }

        .card:hover {
            transform: translateY(-15px);
            box-shadow: var(--shadow-hover);
        }

        .card h3 {
            display: flex;
            align-items: center;
            font-size: clamp(2rem, 4vw, 2.8rem);
            margin-bottom: 25px;
            color: var(--primary-color);
        }

        .card h3 i {
            margin-right: 20px;
            color: var(--accent-color);
            font-size: 1.1em;
        }

        .card ul {
            margin-top: 30px;
            margin-left: 25px;
        }

        .card ul li {
            list-style: disc;
            margin-bottom: 15px;
            color: var(--text-color);
            font-size: 1.15rem;
        }

        /* Highlights Section */
        .highlight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Più grandi */
            gap: 40px; /* Più spazio */
            margin-top: 50px;
        }

        .highlight-item {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-md);
            padding: 40px; /* Più padding */
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.4s var(--transition-ease), box-shadow 0.4s var(--transition-ease), background-color 0.4s var(--transition-ease);
            border: 1px solid var(--border-color);
        }

        .highlight-item:hover {
            transform: translateY(-18px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
            background-color: var(--bg-light);
        }

        .highlight-item i {
            font-size: 4.5rem; /* Icone più grandi */
            color: var(--secondary-color);
            margin-bottom: 25px;
            transition: color 0.4s var(--transition-ease), transform 0.4s var(--transition-ease);
        }

        .highlight-item:hover i {
            color: var(--primary-color);
            transform: rotate(8deg) scale(1.2);
        }

        .highlight-item h3 {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 18px;
            font-weight: 700;
        }

        .highlight-item p {
            font-size: 1.1rem;
            color: var(--light-text-color);
            margin-bottom: 25px;
        }

        .highlight-value {
            font-size: clamp(2.0rem, 4.5vw, 2.8rem);
            font-weight: 900;
            color: var(--accent-color);
            display: block;
            margin-top: 20px;
            letter-spacing: -0.8px;
        }

        .note-highlights {
            text-align: center;
            margin-top: 60px;
            font-size: 1rem;
            color: var(--light-text-color);
            font-style: italic;
            opacity: 0.9;
        }

        /* Indice Cards (Nuovo design) */
        .indice-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-light);
            padding: 45px;
            margin-bottom: 40px;
            transition: transform var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease);
            border: 1px solid var(--border-color);
        }

        .indice-card:hover {
            transform: translateY(-12px);
            box-shadow: var(--shadow-hover);
        }

        .indice-card h3 {
            font-size: clamp(2rem, 4vw, 2.5rem);
            margin-bottom: 22px;
            display: flex;
            align-items: center;
            color: var(--primary-color);
        }

        .indice-card h3 i {
            margin-right: 20px;
            font-size: 1.1em;
            color: var(--secondary-color);
        }

        .indice-card p {
            font-size: 1.2rem;
            margin-bottom: 18px;
            color: var(--text-color);
        }

        .indice-card p strong {
            color: var(--primary-color);
        }

        .highlight-text {
            font-weight: 700;
            color: var(--accent-color);
            font-size: clamp(1.1rem, 2.4vw, 1.3rem);
            margin-top: 25px;
            border-left: 5px solid var(--accent-color);
            padding-left: 18px;
            background-color: rgba(var(--accent-color-rgb, 39,174,96), 0.05); /* RGB per trasparenza */
            padding: 15px 18px;
            border-radius: 0 var(--border-radius-md) var(--border-radius-md) 0;
        }

        /* Grafico Simulato */
        .simulated-graph-container {
            width: 100%;
            height: 300px;
            background-color: var(--bg-light);
            border-radius: var(--border-radius-md);
            margin-top: 25px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Inter', sans-serif;
            color: var(--light-text-color);
            font-size: 1.1rem;
            border: 1px dashed var(--border-color);
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 1s var(--transition-ease), transform 1s var(--transition-ease);
        }
        .simulated-graph-container.active {
            opacity: 1;
            transform: scale(1);
        }

        .simulated-graph-container.active .graph-placeholder {
             animation: pulse-border 1.5s infinite alternate;
        }

        @keyframes pulse-border {
            from { border-color: var(--border-color); }
            to { border-color: var(--secondary-color); }
        }

        .graph-placeholder {
            padding: 20px;
            text-align: center;
            color: var(--light-text-color);
        }
        .graph-placeholder i {
            font-size: 3em;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        /* Stili specifici per la mappa Leaflet */
        #map {
            height: 600px; /* Mappa più grande */
            width: 100%;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-light);
            margin-top: 40px;
            border: 1px solid var(--border-color);
        }
        .legend {
            background: white;
            padding: 12px; /* Più padding */
            font-size: 14px;
            line-height: 1.6;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            border-radius: var(--border-radius-md);
        }
        .legend b {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color);
            font-weight: 800;
            margin-bottom: 8px;
            display: block;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }
        .legend span {
            display: inline-block;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            margin-right: 8px;
            vertical-align: middle;
            border: 1px solid rgba(0,0,0,0.1);
        }

        /* Animazioni avanzate (nuove classi per JavaScript) */
        .content-reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.2s var(--transition-ease), transform 1.2s var(--transition-ease);
        }

        .content-reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .fade-in { opacity: 0; transition: opacity 1.2s var(--transition-ease); }
        .fade-in.active { opacity: 1; }

        .slide-up { transform: translateY(50px); transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-up.active { transform: translateY(0); opacity: 1; }

        .slide-left { transform: translateX(-60px); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-left.active { transform: translateX(0); opacity: 1; }

        .slide-right { transform: translateX(60px); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .slide-right.active { transform: translateX(0); opacity: 1; }

        .scale-in-sm { transform: scale(0.9); opacity: 0; transition: transform 1.2s var(--transition-ease), opacity 1.2s var(--transition-ease); }
        .scale-in-sm.active { transform: scale(1); opacity: 1; }

        /* Ritardi per animazioni sequenziali */
        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; }
        .delay-5 { transition-delay: 0.5s; }
        .delay-6 { transition-delay: 0.6s; }
        .delay-7 { transition-delay: 0.7s; }
        .delay-8 { transition-delay: 0.8s; }
        .delay-9 { transition-delay: 0.9s; }
        .delay-10 { transition-delay: 1.0s; }
        .delay-11 { transition-delay: 1.1s; }

        /* Stili per l'interazione testuale (content-swiper) */
        .content-swiper-container {
            position: relative;
            overflow: hidden; 
            min-height: 400px; /* Altezza minima per contenere gli slide */
            display: flex; /* Flexbox per centrare il contenuto verticalmente */
            flex-direction: column;
            justify-content: center;
        }

        .content-slide {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s var(--transition-ease), transform 0.8s var(--transition-ease);
            position: absolute; 
            width: 100%;
            top: 0;
            left: 0;
            padding-bottom: 80px; /* Spazio per i controlli */
            height: auto;
            min-height: 300px;
        }

        .content-slide.active {
            opacity: 1;
            transform: translateY(0);
            position: static; 
        }

        .content-slide.hidden {
            display: none; 
        }

        .content-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            border-top: 1px solid var(--border-color);
            padding-top: 25px;
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--card-bg); 
            z-index: 10;
        }

        .content-controls button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px; /* Pill shape */
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            text-transform: uppercase;
        }

        .content-controls button:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.3);
        }

        .content-controls button:disabled {
            background-color: var(--border-color);
            cursor: not-allowed;
            opacity: 0.6;
            box-shadow: none;
        }

        .content-controls button i {
            margin-right: 10px;
            margin-left: 10px;
        }

        .content-controls span {
            font-size: 1rem;
            color: var(--light-text-color);
            font-style: italic;
            font-weight: 500;
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: 0; /* Rimossa margin-top */
            font-size: 1rem;
            box-shadow: 0 -8px 25px rgba(0,0,0,0.2);
            border-top: 8px solid var(--secondary-color); /* Bordo più spesso */
        }

        /* Bottone Torna su */
        #back-to-top {
            position: fixed;
            bottom: 40px;
            left: 40px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 65px; /* Più grande */
            height: 65px;
            font-size: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0,0,0,0.35);
            opacity: 0;
            visibility: hidden;
            transform: translateY(30px);
            transition: opacity 0.4s ease, visibility 0.4s ease, transform 0.3s var(--transition-ease);
            z-index: 1000;
        }

        #back-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        #back-to-top:hover {
            transform: translateY(-12px) scale(1.06);
            background-color: #229954;
            box-shadow: 0 18px 35px rgba(0,0,0,0.5);
        }

        /* Media Queries per Responsività Perfezionata */
        @media (max-width: 992px) {
            nav ul { display: none; } /* Considera l'implementazione di un menu hamburger per schermi più piccoli */
            .logo { font-size: 2rem; }
            .logo i { font-size: 1.2em; }

            .hero { padding: 120px 15px 80px; min-height: 75vh; }
            .hero-title { font-size: clamp(2.8rem, 7vw, 4rem); }
            .hero-subtitle { font-size: clamp(1.1rem, 2.8vw, 1.4rem); margin-bottom: 40px; }
            .button-primary { padding: 16px 35px; font-size: 1.2rem; }

            section { padding: 80px 0; min-height: 80vh; }
            section h2 { font-size: clamp(2.2rem, 5.5vw, 3rem); margin-bottom: 40px; }
            section h2::after { width: 100px; height: 5px; }
            .section-description { margin: -20px auto 50px auto; font-size: clamp(1rem, 2.2vw, 1.2rem); }

            .card { padding: 40px; }
            .card h3 { font-size: clamp(1.7rem, 3.5vw, 2.2rem); }
            .card ul li { font-size: 1.05rem; }

            .highlight-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
            .highlight-item { padding: 30px; }
            .highlight-item i { font-size: 3.8rem; }
            .highlight-value { font-size: clamp(1.8rem, 4vw, 2.5rem); }

            .indice-card { padding: 35px; margin-bottom: 35px; }
            .indice-card h3 { font-size: clamp(1.6rem, 3.2vw, 2rem); }
            .indice-card p { font-size: 1.05rem; }
            .highlight-text { font-size: clamp(1rem, 2.1vw, 1.2rem); }

            #map { height: 500px; margin-top: 30px; }

            #back-to-top { width: 60px; height: 60px; font-size: 1.8rem; bottom: 30px; left: 30px; }
            footer { padding: 35px 0; font-size: 0.95rem; }

            .content-controls { padding-top: 20px; }
            .content-controls button { padding: 10px 20px; font-size: 0.95rem; }
            .content-controls span { font-size: 0.9rem; }
            .simulated-graph-container { height: 250px; }
        }

        @media (max-width: 768px) {
            .container { padding: 0 20px; }

            .hero { padding: 90px 15px 60px; min-height: 65vh; }
            .hero-title { font-size: clamp(2.5rem, 8vw, 3.5rem); }
            .hero-subtitle { font-size: clamp(1rem, 2.5vw, 1.2rem); margin-bottom: 30px; }
            .button-primary { padding: 14px 28px; font-size: 1.1rem; }

            section { padding: 60px 0; min-height: 70vh; }
            section h2 { font-size: clamp(2rem, 7vw, 2.8rem); margin-bottom: 35px; }
            section h2::after { width: 90px; height: 4px; }
            .section-description { margin: -15px auto 40px auto; font-size: 0.95rem; }

            .card { padding: 30px; margin-bottom: 30px; }
            .card h3 { font-size: clamp(1.5rem, 5vw, 1.9rem); }
            .card ul li { font-size: 1rem; }

            .highlight-grid { grid-template-columns: 1fr; gap: 20px; }
            .highlight-item { padding: 25px; }
            .highlight-item i { font-size: 3.5rem; }
            .highlight-value { font-size: clamp(1.6rem, 5vw, 2.2rem); }

            .indice-card { padding: 25px; margin-bottom: 25px; }
            .indice-card h3 { font-size: clamp(1.4rem, 4.5vw, 1.7rem); }
            .indice-card h3 i { margin-right: 15px; }
            .indice-card p { font-size: 0.95rem; }
            .highlight-text { font-size: clamp(0.95rem, 2vw, 1.05rem); padding-left: 15px; }

            #map { height: 400px; margin-top: 25px; }

            #back-to-top { width: 55px; height: 55px; font-size: 1.7rem; bottom: 25px; left: 25px; }
            footer { padding: 30px 0; font-size: 0.9rem; }

            .content-controls { padding-top: 15px; flex-direction: column; gap: 10px; }
            .content-controls button { width: 100%; margin: 0; }
            .content-controls span { margin-top: 5px; }
            .simulated-graph-container { height: 200px; }
        }

        @media (max-width: 480px) {
            .hero { padding: 60px 10px 40px; min-height: 55vh; }
            .hero-title { font-size: clamp(2rem, 9vw, 3rem); }
            .hero-subtitle { font-size: clamp(0.9rem, 3.5vw, 1.1rem); margin-bottom: 25px; }
            .button-primary { padding: 10px 20px; font-size: 1rem; }

            section { padding: 40px 0; min-height: 60vh; }
            section h2 { font-size: clamp(1.8rem, 8vw, 2.5rem); margin-bottom: 25px; }
            .section-description { font-size: 0.9rem; margin: -10px auto 30px auto; }

            .card { padding: 20px; margin-bottom: 20px; }
            .card h3 { font-size: clamp(1.3rem, 6.5vw, 1.6rem); }
            .card h3 i { font-size: 1em; margin-right: 10px; }
            .card ul li { font-size: 0.9rem; }

            .highlight-item { padding: 20px; }
            .highlight-item i { font-size: 3rem; }
            .highlight-value { font-size: clamp(1.5rem, 6vw, 1.8rem); }

            .indice-card { padding: 20px; margin-bottom: 20px; }
            .indice-card h3 { font-size: clamp(1.2rem, 5.5vw, 1.5rem); }
            .indice-card h3 i { margin-right: 10px; }
            .indice-card p { font-size: 0.88rem; }
            .highlight-text { font-size: clamp(0.88rem, 2.2vw, 1rem); padding-left: 12px; }

            #map { height: 300px; margin-top: 20px; }

            #back-to-top { width: 50px; height: 50px; font-size: 1.5rem; bottom: 15px; left: 15px; }

            .content-controls { padding-top: 10px; }
            .content-controls button { font-size: 0.85rem; }
            .content-controls span { font-size: 0.8rem; }
            .simulated-graph-container { height: 180px; }
        }
    </style>
</head>
<body>
    <div id="scroll-progress-indicator"></div>

    <header id="main-header">
        <nav class="container">
            <div class="logo">
                <i class="fas fa-chart-network"></i> Climpact Vercelli
            </div>
            <ul>
                <li><a href="#introduzione" class="nav-link">Introduzione</a></li>
                <li><a href="#highlights" class="nav-link">Highlights</a></li>
                <li><a href="#indici" class="nav-link">Indici Climatici</a></li>
                <li><a href="#impatti" class="nav-link">Impatti & Rischi</a></li>
                <li><a href="#metodologia" class="nav-link">Metodologia</a></li>
                <li><a href="#conclusioni" class="nav-link">Conclusioni</a></li>
                <li><a href="#prospettive" class="nav-link">Prospettive</a></li>
                <li><a href="#mappa-rischi" class="nav-link">Mappa Rischi</a></li>
            </ul>
        </nav>
    </header>

    <div class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Vercelli Clima Futuro: Analisi 1994-2024</h1>
            <p class="hero-subtitle">Un viaggio interattivo attraverso i dati climatici che stanno ridisegnando il panorama socio-economico del nostro territorio.</p>
            <a href="#introduzione" class="button-primary hero-button">Inizia il Viaggio <i class="fas fa-chevron-right"></i></a>
        </div>
    </div>

    <main>
        <section id="introduzione" class="section-padding content-reveal">
            <div class="card slide-up content-swiper-container" data-slide-id="introduzione">
                <h2 class="section-title-animated"><i class="fas fa-info-circle"></i> La Nostra Ricerca su Vercelli</h2>

                <div class="content-slide">
                    <p class="fade-in">Benvenuti in questa presentazione interattiva, frutto di un'approfondita analisi condotta nell'ambito del Master in **[Nome Completo del Tuo Master]**. Il nostro focus è la stazione di Vercelli, esaminata in un periodo cruciale: dal 1994 al 2024. Abbiamo utilizzato il potente software Climpact per elaborare dati climatici grezzi e derivare una serie di indici climatici essenziali.</p>
                    <p class="fade-in delay-1">L'obiettivo? Svelare i trend climatici più significativi, capire come stanno influenzando il territorio e il suo tessuto socio-economico, e fornire una base solida per future strategie di adattamento e resilienza.</p>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-2"><i class="fas fa-map-marker-alt"></i> Dettagli della Stazione Climatica</h3>
                    <ul class="fade-in delay-3">
                        <li><strong>Località:</strong> Vercelli, Piemonte, Italia</li>
                        <li><strong>Periodo di Analisi:</strong> 1994 - 2024 (30 anni di dati cruciali)</li>
                        <li><strong>Software di Analisi:</strong> Climpact (Standard WMO/ETCCDI)</li>
                        <li><strong>Dati:</strong> Temperature Minime/Massime, Precipitazioni Giornaliere</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-4"><i class="fas fa-chart-bar"></i> Vercelli: Clima in Numeri (Media 1994-2024)</h3>
                    <ul class="fade-in delay-5">
                        <li>**Temperatura massima media annuale (Tx):** 17.5°C</li>
                        <li>**Temperatura minima media annuale (Tn):** 9.2°C</li>
                        <li>**Temperatura media annuale:** 13.4°C</li>
                        <li>**Temperatura media estiva (Giugno-Agosto):** 21.8°C</li>
                        <li>**Temperatura media invernale (Dicembre-Febbraio):** 5.0°C</li>
                        <li>**Precipitazione totale annuale media (PrecTot):** 650 mm</li>
                        <li>**95° percentile di precipitazione giornaliera (R95p):** 32.5 mm</li>
                        <li>**99° percentile di precipitazione giornaliera (R99p):** 68.1 mm</li>
                    </ul>
                    <p class="note-highlights fade-in delay-6">I valori sopra riportati sono placeholder. **Aggiornali con i dati specifici derivati dalla tua analisi Climpact per Vercelli.**</p>
                </div>
            </div>
        </section>

        <section id="highlights" class="section-padding bg-light content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-sparkles"></i> I Punti Salienti del Cambiamento</h2>
                <p class="section-description fade-in">Ecco le evidenze più d'impatto emerse dalla nostra analisi, un riassunto delle trasformazioni climatiche a Vercelli negli ultimi trent'anni.</p>
                <div class="highlight-grid">
                    <div class="highlight-item fade-in scale-in-sm">
                        <i class="fas fa-hotdog"></i> <h3>Notte Tropicale in Aumento</h3>
                        <p>Le notti in cui la temperatura minima non scende sotto una certa soglia (spesso 20°C) sono sempre più frequenti.</p>
                        <span class="highlight-value">TN90p: <span style="color: var(--warning-color);">+30%</span></span>
                        <p style="font-size: 0.9em; color: var(--light-text-color);"><em>Impatto: Stress termico per agricoltura e persone, difficoltà di recupero notturno.</em></p>
                    </div>
                    <div class="highlight-item fade-in scale-in-sm delay-1">
                        <i class="fas fa-water-lower"></i> <h3>Siccità Cronica</h3>
                        <p>Un deficit idrico prolungato che minaccia l'agricoltura e le risorse idriche locali, cruciali per la risicoltura.</p>
                        <span class="highlight-value">SPEI_24: <span style="color: var(--warning-color);">Trend Negativo</span></span>
                        <p style="font-size: 0.9em; color: var(--light-text-color);"><em>Impatto: Calo rese agricole, gestione emergenze idriche.</em></p>
                    </div>
                    <div class="highlight-item fade-in scale-in-sm delay-2">
                        <i class="fas fa-water-slash"></i> <h3>Meno Pioggia Totale</h3>
                        <p>Nonostante eventi estremi, la quantità complessiva di precipitazioni annuali mostra un calo.</p>
                        <span class="highlight-value">PRCPTOT: <span style="color: var(--warning-color);">~-10%</span></span>
                        <p style="font-size: 0.9em; color: var(--light-text-color);"><em>Impatto: Insufficiente ricarica delle falde, stress idrico.</em></p>
                    </div>
                    <div class="highlight-item fade-in scale-in-sm delay-3">
                        <i class="fas fa-sun-haze"></i> <h3>Ondate di Calore Intese</h3>
                        <p>Aumento della frequenza, durata e intensità dei periodi di caldo eccezionale, con conseguenze severe.</p>
                        <span class="highlight-value">HWF-Tx90: <span style="color: var(--warning-color);">+XXX giorni/anno</span></span>
                        <p style="font-size: 0.9em; color: var(--light-text-color);"><em>Impatto: Rischi per la salute, agricoltura, sicurezza sul lavoro.</em></p>
                    </div>
                </div>
                <p class="note-highlights fade-in delay-4">**Nota:** I valori qui mostrati sono indicativi. **Sostituisci questi placeholder con i risultati precisi della tua analisi su Vercelli.**</p>
            </div>
        </section>

        <section id="indici" class="section-padding content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-chart-pie"></i> Indici Climatici: Analisi Approfondita</h2>
                <p class="section-description fade-in">Esploriamo in dettaglio gli indici climatici chiave, osservando i loro trend e come dipingono il quadro del cambiamento climatico a Vercelli. **(I dati e grafici sono simulati e vanno sostituiti con i tuoi dati reali e i tuoi grafici Climpact).**</p>

                <div class="indice-card fade-in slide-left">
                    <h3><i class="fas fa-cloud-rain"></i> PRCPTOT: Precipitazione Totale Annuale</h3>
                    <p><strong>Descrizione:</strong> Misura la somma cumulativa annuale delle precipitazioni giornaliere (≥ 1.0 mm). È l'indicatore base della quantità di acqua che cade in un anno.</p>
                    <p><strong>Trend Osservato:</strong> Per Vercelli, il trend è <strong>statisticamente NON significativo, ma mostra una evidente tendenza alla decrescita</strong> (Sen's slope = -X.XXX, p-value = X.XXX). Ciò suggerisce una riduzione della risorsa idrica complessiva nel tempo.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Minimi annuali registrati nel 2015, 2021, 2022 (con **289.1 mm**) e 2023. I massimi sono stati nel 1996, 2002, 2011 e 2018 (con **976.4 mm**).</em></p>
                    <div class="simulated-graph-container active delay-1">
                        <div class="graph-placeholder"><i class="fas fa-chart-area"></i> Grafico PRCPTOT Qui</div>
                        </div>
                </div>

                <div class="indice-card fade-in slide-right delay-2">
                    <h3><i class="fas fa-tint"></i> SDII: Intensità Media Precipitazioni</h3>
                    <p><strong>Descrizione:</strong> Precipitazioni annuali totali divise per il numero di giorni piovosi. Indica l'intensità media di ogni singolo evento di pioggia.</p>
                    <p><strong>Trend Osservato:</strong> Si osserva un <strong>trend statisticamente NON significativo</strong> (Sen's slope = -X.XXX, p-value = X.XX). Questo significa che, quando piove, gli eventi tendono a essere meno intensi, aggravando il deficit idrico.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Minimi osservati nel 2021 (**6.2 mm/day**) e 2022. Massimi nel 1991, 1994 e 2011 (**16.1 mm/day**).</em></p>
                    <div class="simulated-graph-container active delay-3">
                        <div class="graph-placeholder"><i class="fas fa-chart-line"></i> Grafico SDII Qui</div>
                    </div>
                </div>
                
                <div class="indice-card fade-in slide-left delay-4">
                    <h3><i class="fas fa-sun"></i> SPI_24_month: Indice di Siccità (24 Mesi)</h3>
                    <p><strong>Descrizione:</strong> Basato sulle precipitazioni cumulative su 24 mesi. Un valore negativo indica condizioni di siccità, più è basso più è severa.</p>
                    <p><strong>Trend Osservato:</strong> Il trend dell'SPI a 24 mesi è <strong>statisticamente SIGNIFICATIVO e in evidente decrescita</strong> (Sen's slope = -0.002, p-value = 0). Ciò evidenzia un aumento dell'intensità e della frequenza degli eventi siccitosi estremi.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Aumento degli eventi siccitosi estremi, soprattutto dal 2022 in poi (R &lt; -2 con picchi anche di **-3.5** nel 2023).</em></p>
                    <div class="simulated-graph-container active delay-5">
                        <div class="graph-placeholder"><i class="fas fa-water"></i> Grafico SPI_24_month Qui</div>
                    </div>
                </div>

                <div class="indice-card fade-in slide-right delay-6">
                    <h3><i class="fas fa-thermometer-empty"></i> SPEI_24_month: Indice di Siccità (Precipitazione ed Evapotraspirazione)</h3>
                    <p><strong>Descrizione:</strong> Simile all'SPI, ma include anche l'evapotraspirazione, fornendo una visione più completa della siccità considerando l'impatto delle temperature.</p>
                    <p><strong>Trend Osservato:</strong> L'analisi dello SPEI a 24 mesi rivela un <strong>trend statisticamente SIGNIFICATIVO e in evidente decrescita</strong> (Sen's slope = -0.004, p-value = 0). Questo conferma l'aggravarsi delle condizioni di siccità a causa della combinazione di meno piogge e più calore.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Picchi di siccità estrema (R &lt; -2 con picchi anche di **-4.4** nel 2023) soprattutto dal 2022 in poi.</em></p>
                    <div class="simulated-graph-container active delay-7">
                        <div class="graph-placeholder"><i class="fas fa-cloud-sun"></i> Grafico SPEI_24_month Qui</div>
                    </div>
                </div>

                <div class="indice-card fade-in slide-left delay-8">
                    <h3><i class="fas fa-fire-alt"></i> TX90p: Percentuale Giorni con T° Massima Estremamente Calda</h3>
                    <p><strong>Descrizione:</strong> Misura la percentuale di giorni in cui la temperatura massima giornaliera supera il 90° percentile. Un indicatore chiave delle ondate di calore.</p>
                    <p><strong>Trend Osservato:</strong> L'analisi del TX90p rivela un <strong>trend statisticamente SIGNIFICATIVO e in evidente crescita</strong> (Sen's slope = 0.409, p-value = 0). Ciò indica ondate di calore più intense e frequenti a Vercelli.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Minimi nel 1988 (**2.46%**) e 1996. Massimi nel 2022 (**40.54%**) e 2023.</em></p>
                    <div class="simulated-graph-container active delay-9">
                        <div class="graph-placeholder"><i class="fas fa-temperature-full"></i> Grafico TX90p Qui</div>
                    </div>
                </div>

                <div class="indice-card fade-in slide-right delay-10">
                    <h3><i class="fas fa-cloud-moon"></i> TN90p: Percentuale Giorni con T° Minima Estremamente Calda</h3>
                    <p><strong>Descrizione:</strong> Percentuale di giorni in cui la temperatura minima giornaliera è superiore al 90° percentile. Rivela la frequenza delle "notti tropicali".</p>
                    <p><strong>Trend Osservato:</strong> Si registra un <strong>trend statisticamente SIGNIFICATIVO e in evidente crescita</strong> (Sen's slope = 0.309, p-value = 0). Questo significa minor raffreddamento notturno, con impatti sulla salute e agricoltura.</p>
                    <p class="highlight-text"><em>Risultato per Vercelli: Minimi nel 1992, 1993 (**2.70%**), 1996, 1999 e 2010. Massimi nel 2022 (**29.04%**) e 2023.</em></p>
                    <div class="simulated-graph-container active delay-11">
                        <div class="graph-placeholder"><i class="fas fa-moon"></i> Grafico TN90p Qui</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="impatti" class="section-padding bg-light content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-exclamation-triangle"></i> Impatti & Rischi per Vercelli</h2>
                <p class="section-description fade-in">Il cambiamento climatico non è solo una questione di numeri. Ha conseguenze dirette sul tessuto socio-economico di Vercelli. Ecco i principali rischi che abbiamo identificato.</p>
                <div class="highlight-grid">
                    <div class="highlight-item fade-in scale-in-sm">
                        <i class="fas fa-tractor" style="color: #6a0572;"></i>
                        <h3>Agricoltura: Minacce al "Granaio d'Italia"</h3>
                        <p>La risicoltura, pilastro dell'economia vercellese, è vulnerabile. L'aumento della siccità e delle ondate di calore estive minaccia la disponibilità idrica per l'irrigazione, causando stress alle colture, calo delle rese e aumento dei costi di produzione.</p>
                        <ul style="list-style: none; padding: 0; text-align: left; font-size: 0.95em; color: var(--text-color);">
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Stress idrico per riso e mais.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Aumento parassiti e malattie.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Difficoltà per semine e raccolti.</li>
                        </ul>
                    </div>
                    <div class="highlight-item fade-in scale-in-sm delay-1">
                        <i class="fas fa-city" style="color: #c0392b;"></i>
                        <h3>Salute Pubblica & Vita Urbana</h3>
                        <p>Le ondate di calore prolungate, soprattutto con le "notti tropicali", aumentano il rischio di colpi di calore, disidratazione e stress cardiovascolare, in particolare per anziani e bambini. L'aumento delle temperature favorisce anche la proliferazione di insetti vettori di malattie.</p>
                        <ul style="list-style: none; padding: 0; text-align: left; font-size: 0.95em; color: var(--text-color);">
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Aumento mortalità/morbilità per caldo.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Disagio urbano e blackout energetici.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Proliferazione vettori (zanzare).</li>
                        </ul>
                    </div>
                    <div class="highlight-item fade-in scale-in-sm delay-2">
                        <i class="fas fa-water" style="color: #2980b9;"></i>
                        <h3>Gestione Risorse Idriche</h3>
                        <p>Il fiume Sesia e il sistema di canali (Cavour, Regina Elena) sono vitali. La diminuzione delle precipitazioni e l'aumento dell'evaporazione rendono più complessa la gestione delle riserve idriche, creando conflitti tra usi agricoli, civili e industriali.</p>
                        <ul style="list-style: none; padding: 0; text-align: left; font-size: 0.95em; color: var(--text-color);">
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Minore disponibilità d'acqua potabile.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Conflitti d'uso dell'acqua.</li>
                            <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 8px;"></i> Impatto su ecosistemi fluviali.</li>
                        </ul>
                    </div>
                </div>
                <p class="note-highlights fade-in delay-3">Questi rischi evidenziano la necessità di azioni urgenti e coordinate per la resilienza climatica del territorio di Vercelli.</p>
            </div>
        </section>

        <section id="metodologia" class="section-padding content-reveal">
            <div class="card slide-up content-swiper-container" data-slide-id="metodologia">
                <h2 class="section-title-animated"><i class="fas fa-flask"></i> Metodologia e Validazione Dati</h2>
                <div class="content-slide">
                    <p class="fade-in">Per garantire la massima affidabilità dei nostri risultati, abbiamo adottato un approccio scientifico rigoroso, combinando software all'avanguardia con tecniche statistiche consolidate.</p>
                    <ul class="fade-in delay-1">
                        <li>**Software Climpact:** Questo strumento open-source, riconosciuto a livello internazionale e aderente agli standard della World Meteorological Organization (WMO), è stato il cuore della nostra analisi. Ci ha permesso di calcolare con precisione gli indici climatici partendo dai dati giornalieri di temperatura e precipitazione.</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <ul class="fade-in delay-2">
                        <li>**Regressione Lineare & Coefficiente di Determinazione (R²):** Abbiamo utilizzato la regressione lineare per identificare le tendenze generali nei dati. L'R² ci ha fornito un'indicazione della "forza" di queste tendenze, ovvero quanto bene il modello lineare spiega la variabilità osservata.</li>
                        <li>**Test di Mann-Kendall & Sen's Slope Estimator:** Questi sono metodi non parametrici, ideali per dati climatici che spesso non seguono distribuzioni normali. Il test di Mann-Kendall determina se esiste un trend significativo, mentre Sen's Slope ci fornisce una stima robusta della sua pendenza (quanto il valore cambia per unità di tempo). Questi test sono meno influenzati da valori estremi (outlier).</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-3"><i class="fas fa-database"></i> Qualità dei Dati: Un Passaggio Cruciale</h3>
                    <p class="fade-in delay-4">Prima di ogni calcolo, i dati grezzi sono stati sottoposti a un processo meticoloso di controllo qualità. Questo include l'identificazione e la gestione di valori mancanti, anomali (outlier) o errati. Questo passaggio è vitale per prevenire distorsioni nell'analisi.</p>
                    <p class="fade-in delay-5">Per la stazione di Barcellona (studio di riferimento), ad esempio, sono stati identificati e gestiti 54 outlier per le temperature e alcune anomalie nelle precipitazioni, coerenti con le registrazioni ufficiali. Per Vercelli, è stato applicato un protocollo simile, garantendo che i dati utilizzati fossero il più puliti e accurati possibile.</p>
                </div>
            </div>
        </section>
        
        <section id="conclusioni" class="section-padding bg-light content-reveal">
            <div class="card slide-up content-swiper-container" data-slide-id="conclusioni">
                <h2 class="section-title-animated"><i class="fas fa-lightbulb"></i> Le Nostre Conclusioni</h2>
                <div class="content-slide">
                    <p class="fade-in">L'analisi del clima di Vercelli nel periodo 1994-2024 rivela un quadro chiaro: la regione sta sperimentando cambiamenti climatici significativi, con implicazioni che toccano ogni aspetto della vita locale. Il regime pluviometrico rimane mediterraneo, ma con evidenti segnali di stress, mentre le temperature mostrano una chiara tendenza al riscaldamento.</p>
                </div>
                <div class="content-slide">
                    <ul class="fade-in delay-1">
                        <li>**Allarme Siccità:** Abbiamo riscontrato un <strong>chiaro e significativo deficit nelle precipitazioni totali</strong> e un <strong>aumento dell'intensità degli eventi siccitosi estremi</strong> (come evidenziato da SPI e SPEI). Ciò si traduce in una minore disponibilità idrica e un rischio crescente di periodi di aridità prolungata.</li>
                        <li>**Ondate di Calore in Aumento:** Le temperature, sia massime che minime notturne, mostrano un trend di crescita statisticamente significativo. Questo significa <strong>più giorni e notti "tropicali" e ondate di calore più frequenti e intense</strong>, con ripercussioni sulla salute umana, sull'agricoltura e sui consumi energetici.</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <ul class="fade-in delay-2">
                        <li>**Vulnerabilità del Territorio:** Il combinarsi di meno acqua e più caldo crea una **maggiore vulnerabilità per settori chiave** come l'agricoltura (in particolare la risicoltura), la gestione delle risorse idriche e la salute pubblica.</li>
                    </ul>
                    <p class="fade-in delay-3">È imperativo che queste evidenze siano considerate nella pianificazione territoriale e nelle strategie di adattamento per costruire una Vercelli più resiliente di fronte ai cambiamenti climatici.</p>
                </div>
            </div>
        </section>

        <section id="prospettive" class="section-padding content-reveal">
            <div class="card slide-up content-swiper-container" data-slide-id="prospettive">
                <h2 class="section-title-animated"><i class="fas fa-chart-line-down"></i> Prospettive e Azioni Future</h2>
                <div class="content-slide">
                    <p class="fade-in">Le tendenze climatiche per Vercelli non sono solo dati passati, ma proiezioni per il nostro futuro. Basandoci sui nostri risultati e su studi consolidati (come il caso di Barcellona), possiamo delineare le sfide e le azioni necessarie.</p>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-1"><i class="fas fa-droplet"></i> Sfida 1: Siccità e Stress Idrico</h3>
                    <p class="fade-in delay-2">Il rischio di siccità diventerà più acuto, con impatti diretti sulla **disponibilità d'acqua per agricoltura e usi civili**. La gestione del sistema idrico (canali, Sesia) richiederà interventi innovativi per massimizzare l'efficienza e ridurre gli sprechi.</p>
                    <ul class="fade-in delay-3" style="list-style: none; padding: 0; text-align: left;">
                        <li><i class="fas fa-cog" style="color: var(--accent-color); margin-right: 10px;"></i> Promuovere l'irrigazione a basso consumo (goccia, micro-aspersione).</li>
                        <li><i class="fas fa-seedling" style="color: var(--accent-color); margin-right: 10px;"></i> Incentivare colture più resistenti alla siccità.</li>
                        <li><i class="fas fa-tint" style="color: var(--accent-color); margin-right: 10px;"></i> Implementare sistemi di raccolta e riuso dell'acqua piovana.</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-4"><i class="fas fa-fire-extinguisher"></i> Sfida 2: Ondate di Calore e Salute</h3>
                    <p class="fade-in delay-5">Le temperature estreme, specialmente di notte, richiederanno nuove strategie per proteggere la popolazione. Il rischio di **incendi boschivi** nelle aree limitrofe aumenterà.</p>
                    <ul class="fade-in delay-6" style="list-style: none; padding: 0; text-align: left;">
                        <li><i class="fas fa-hospital-alt" style="color: var(--accent-color); margin-right: 10px;"></i> Piani di emergenza per ondate di calore.</li>
                        <li><i class="fas fa-tree" style="color: var(--accent-color); margin-right: 10px;"></i> Aumentare le aree verdi urbane e la forestazione.</li>
                        <li><i class="fas fa-plug" style="color: var(--accent-color); margin-right: 10px;"></i> Incentivare l'efficienza energetica e le energie rinnovabili.</li>
                    </ul>
                </div>
                <div class="content-slide">
                    <h3 class="fade-in delay-7"><i class="fas fa-bullhorn"></i> Un Appello all'Azione</h3>
                    <p class="fade-in delay-8">La ricerca scientifica come la nostra è il primo passo. Il prossimo è l'azione. La comunità di Vercelli, dalle istituzioni ai cittadini, deve collaborare per implementare strategie di adattamento e mitigazione. La resilienza al clima è un investimento nel futuro del nostro territorio.</p>
                    <a href="#mappa-rischi" class="button-primary fade-in delay-9" style="margin-top: 30px;">Vedi la Mappa dei Rischi <i class="fas fa-map-marked-alt"></i></a>
                </div>
            </div>
        </section>

        <section id="mappa-rischi" class="section-padding bg-light content-reveal">
            <div class="container">
                <h2 class="section-title-animated"><i class="fas fa-map-marked-alt"></i> Vercelli: Mappa Interattiva dei Rischi Climatici</h2>
                <p class="section-description fade-in">Esplora le aree chiave del territorio di Vercelli e scopri i rischi climatici specifici a cui sono esposte, con un focus sui settori socio-economici.</p>
                <div id="map"></div>
                <p class="note-highlights fade-in delay-1">Clicca sui marker per visualizzare i rischi specifici per quell'area o attività.</p>
            </div>
        </section>
        </main>

    <footer>
        <p>&copy; 2025 Luigi [Tuo Cognome]. Tutti i diritti riservati. Presentazione interattiva per Climpact Vercelli.</p>
    </footer>

    <button id="back-to-top" title="Torna su" aria-label="Torna all'inizio della pagina">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const backToTopButton = document.getElementById('back-to-top');
            const scrollProgressIndicator = document.getElementById('scroll-progress-indicator');
            const header = document.getElementById('main-header');
            const navLinks = document.querySelectorAll('nav .nav-link');
            const sections = document.querySelectorAll('section');
            const heroContent = document.querySelector('.hero-content'); 
            const body = document.body; 

            // --- Funzione per aggiornare il padding del body in base all'altezza dell'header ---
            function updateBodyPadding() {
                if (header) {
                    const headerHeight = header.offsetHeight;
                    body.style.paddingTop = headerHeight + 'px';
                    // Aggiorna variabile CSS per sezioni
                    document.documentElement.style.setProperty('--header-height', headerHeight + 'px');
                }
            }

            updateBodyPadding();
            window.addEventListener('resize', updateBodyPadding);

            // --- Animazione iniziale Hero Section ---
            if (heroContent) {
                heroContent.classList.add('active');
            }

            // --- Gestione Eventi Scroll ---
            window.addEventListener('scroll', () => {
                if (backToTopButton) { 
                    if (window.scrollY > window.innerHeight * 0.8) { // Mostra dopo il 80% della prima schermata
                        backToTopButton.classList.add('show');
                    } else {
                        backToTopButton.classList.remove('show');
                    }
                }

                if (scrollProgressIndicator) { 
                    const scrollTop = document.documentElement.scrollTop;
                    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrollPercentage = (scrollHeight > 0) ? (scrollTop / scrollHeight) * 100 : 0;
                    scrollProgressIndicator.style.width = scrollPercentage + '%';
                }

                // Header "all'avanguardia" logic
                if (header) {
                    if (window.scrollY > 50) { // Attiva l'effetto blur e sfondo dopo 50px di scroll
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                }

                updateActiveNavLink();
            });

            // --- Funzione per aggiornare il link di navigazione attivo ---
            function updateActiveNavLink() {
                let currentActiveSectionId = '';
                const headerOffset = header ? header.offsetHeight : 0; 

                sections.forEach(section => {
                    // Considera la parte superiore della sezione per l'attivazione
                    // Aggiustato il valore per rendere l'attivazione più precisa con lo scroll snapping
                    const sectionTop = section.offsetTop - (headerOffset + window.innerHeight * 0.3); // Attiva prima che sia completamente visibile
                    const sectionBottom = sectionTop + section.offsetHeight;

                    if (window.scrollY >= sectionTop && window.scrollY < sectionBottom) {
                        currentActiveSectionId = section.id;
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === currentActiveSectionId) {
                        link.classList.add('active');
                    }
                });
            }

            // --- Gestione Click Bottone "Torna su" ---
            if (backToTopButton) {
                backToTopButton.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // --- Gestione Click Link di Navigazione (Scroll to Section) ---
            navLinks.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        const headerOffset = header ? header.offsetHeight : 0;
                        const offsetPosition = targetElement.getBoundingClientRect().top + window.scrollY - headerOffset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });

                        navLinks.forEach(item => item.classList.remove('active'));
                        this.classList.add('active');
                    }
                });
            });

            // --- Animazioni al Reveal con IntersectionObserver (Optimized and Robust) ---
            const elementsToAnimate = document.querySelectorAll(
                '.content-reveal, .fade-in, .slide-up, .slide-left, .slide-right, .scale-in-sm, .section-title-animated, .section-description, .simulated-graph-container'
            );

            const observerOptions = {
                root: null, 
                threshold: 0.1, 
                rootMargin: "0px 0px -100px 0px" 
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        // Unobserve only non-swiper containers
                        if (!entry.target.classList.contains('content-swiper-container') && !entry.target.classList.contains('simulated-graph-container')) {
                             observer.unobserve(entry.target); 
                        }
                    } else {
                        // Optional: remove 'active' class if you want animations to replay on scroll up
                        // entry.target.classList.remove('active'); 
                    }
                });
            }, observerOptions);

            elementsToAnimate.forEach(el => {
                observer.observe(el);
            });

            // --- Inizializzazione all'apertura della pagina ---
            const initializePage = () => {
                const initialHash = window.location.hash;
                if (initialHash) {
                    const targetElement = document.querySelector(initialHash);
                    if (targetElement) {
                        const headerOffset = header ? header.offsetHeight : 0;
                        const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                        const offsetPosition = elementPosition - headerOffset;
                        window.scrollTo({ top: offsetPosition, behavior: 'auto' }); // Use 'auto' for initial jump
                        
                        // Wait a bit for scroll to settle, then apply active class
                        setTimeout(() => {
                            navLinks.forEach(link => {
                                link.classList.remove('active');
                                if (link.getAttribute('href') === initialHash) {
                                    link.classList.add('active');
                                }
                            });
                        }, 300);
                    }
                } else {
                    const introLink = document.querySelector('nav .nav-link[href="#introduzione"]');
                    if (introLink) {
                        introLink.classList.add('active');
                    }
                }
                updateActiveNavLink(); 
            };

            setTimeout(initializePage, 250);

            // --- Logica per il Content Swiper (interazione testuale) ---
            const contentSwipers = document.querySelectorAll('.content-swiper-container');

            contentSwipers.forEach(container => {
                const slides = container.querySelectorAll('.content-slide');
                let currentSlide = 0;

                const controlsDiv = document.createElement('div');
                controlsDiv.classList.add('content-controls');
                controlsDiv.innerHTML = `
                    <button class="prev-content" disabled><i class="fas fa-arrow-left"></i> Indietro</button>
                    <span class="page-indicator">Pagina ${currentSlide + 1} di ${slides.length}</span>
                    <button class="next-content">Continua a Leggere <i class="fas fa-arrow-right"></i></button>
                `;
                container.appendChild(controlsDiv);

                const prevButton = controlsDiv.querySelector('.prev-content');
                const nextButton = controlsDiv.querySelector('.next-content');
                const pageIndicator = controlsDiv.querySelector('.page-indicator');

                const showSlide = (index) => {
                    slides.forEach((slide, i) => {
                        if (i === index) {
                            slide.classList.add('active');
                            slide.classList.remove('hidden');
                        } else {
                            slide.classList.remove('active');
                            slide.classList.add('hidden');
                        }
                    });

                    prevButton.disabled = (index === 0);
                    nextButton.disabled = (index === slides.length - 1);
                    pageIndicator.textContent = `Pagina ${index + 1} di ${slides.length}`;

                    requestAnimationFrame(() => {
                        let activeSlideHeight = 0;
                        const activeSlide = slides[index];
                        if (activeSlide) {
                            // Calculate height considering content and padding
                            activeSlideHeight = activeSlide.scrollHeight; 
                            // Add paddingBottom from CSS to total height
                            const computedStyle = window.getComputedStyle(activeSlide);
                            const paddingBottom = parseFloat(computedStyle.paddingBottom);
                            activeSlideHeight += paddingBottom;
                        }
                        
                        const controlsHeight = controlsDiv.offsetHeight;
                        container.style.minHeight = `${activeSlideHeight + controlsHeight + 60}px`; // Extra padding for visual comfort
                    });
                };

                prevButton.addEventListener('click', () => {
                    if (currentSlide > 0) {
                        currentSlide--;
                        showSlide(currentSlide);
                    }
                });

                nextButton.addEventListener('click', () => {
                    if (currentSlide < slides.length - 1) {
                        currentSlide++;
                        showSlide(currentSlide);
                    }
                });

                if (slides.length > 0) {
                    showSlide(currentSlide);
                } else {
                    controlsDiv.style.display = 'none';
                }

                const swiperObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            showSlide(currentSlide);
                        }
                    });
                }, { root: null, threshold: 0.1 });
                
                swiperObserver.observe(container);

                window.addEventListener('resize', () => showSlide(currentSlide));
            });


            // --- Codice Leaflet per la Mappa dei Rischi Climatici ---
            const map = L.map('map').setView([45.3199, 8.4236], 11); // Coordinate di Vercelli

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);

            // Icone personalizzate per la mappa
            const iconAgri = L.icon({
                iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/svgs/solid/tractor.svg',
                iconSize: [38, 38], // size of the icon
                iconAnchor: [19, 38], // point from which the icon will be centered
                popupAnchor: [0, -30], // point where the popup should open relative to the iconAnchor
                className: 'map-icon'
            });

            const iconCity = L.icon({
                iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/svgs/solid/city.svg',
                iconSize: [38, 38],
                iconAnchor: [19, 38],
                popupAnchor: [0, -30],
                className: 'map-icon'
            });

            const iconWater = L.icon({
                iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/svgs/solid/water.svg',
                iconSize: [38, 38],
                iconAnchor: [19, 38],
                popupAnchor: [0, -30],
                className: 'map-icon'
            });

            // Simuliamo punti di interesse e i loro rischi
            const puntiInteresse = [
                {
                    nome: "Zona Risicoltura Ovest",
                    coords: [45.28, 8.35],
                    rischi: "<h4>Rischio Agricolo: Siccità</h4><p>Le **risaie** in quest'area sono altamente vulnerabili a prolungati periodi di siccità (come evidenziato da SPI e SPEI). Necessità di gestione idrica avanzata e varietà resistenti.</p>",
                    icon: iconAgri,
                    colore: "#e74c3c" // Rosso per alto rischio siccità
                },
                {
                    nome: "Area Urbana di Vercelli",
                    coords: [45.32, 8.42],
                    rischi: "<h4>Rischio Urbano: Ondate di Calore</h4><p>L'area urbana è soggetta a stress da calore, con rischio aumentato di colpi di calore (da TX90p, TN90p) e sovraccarico delle infrastrutture energetiche.</p>",
                    icon: iconCity,
                    colore: "#f39c12" // Arancione per rischio calore
                },
                {
                    nome: "Fiume Sesia (tratto a monte)",
                    coords: [45.35, 8.48],
                    rischi: "<h4>Rischio Idrico: Deflusso Ridotto</h4><p>Il tratto a monte del Sesia mostra un rischio di riduzione del deflusso (da PRCPTOT, SDII), impattando l'approvvigionamento idrico per l'agricoltura e gli usi civili a valle.</p>",
                    icon: iconWater,
                    colore: "#3498db" // Blu per rischio idrico
                },
                {
                    nome: "Canale Cavour (Area Irrigua Nord)",
                    coords: [45.38, 8.3],
                    rischi: "<h4>Rischio Irrigazione: Carenza Idrica</h4><p>Vulnerabilità del Canale Cavour a periodi di scarsa precipitazione e fusione nivale ridotta. Fondamentale per l'irrigazione del mais e altre colture. Necessità di invasi e stoccaggio.</p>",
                    icon: iconWater,
                    colore: "#e67e22" // Arancione scuro
                },
                {
                    nome: "Zona Industriale/Artigianale",
                    coords: [45.30, 8.40],
                    rischi: "<h4>Rischio Economico: Interruzioni per Caldo/Siccità</h4><p>Le attività industriali possono subire interruzioni a causa di stress termico sugli impianti (per HWF) o restrizioni idriche dovute alla siccità. Aumento costi di raffreddamento.</p>",
                    icon: iconCity, // O icona specifica per industria
                    colore: "#9b59b6" // Viola per rischio economico
                }
            ];

            puntiInteresse.forEach(p => {
                L.marker(p.coords, { icon: p.icon })
                    .addTo(map)
                    .bindPopup(p.rischi)
                    .on('mouseover', function (e) {
                        this.openPopup();
                    })
                    .on('mouseout', function (e) {
                        this.closePopup();
                    });
                
                // Opzionale: aggiungere un cerchio per evidenziare l'area di influenza del punto
                L.circle(p.coords, {
                    color: p.colore,
                    fillColor: p.colore,
                    fillOpacity: 0.2,
                    radius: 2000
                }).addTo(map);
            });

            // Legenda avanzata
            const legend = L.control({ position: 'bottomright' });
            legend.onAdd = function () {
                const div = L.DomUtil.create('div', 'legend');
                div.innerHTML = `
                    <b>Rischi Climatici a Vercelli:</b><br>
                    <span style="background-color:#e74c3c;"></span> Siccità Agricola<br>
                    <span style="background-color:#f39c12;"></span> Ondate di Calore Urbano<br>
                    <span style="background-color:#3498db;"></span> Deflusso Fluviale Ridotto<br>
                    <span style="background-color:#e67e22;"></span> Carenza Idrica Irrigua<br>
                    <span style="background-color:#9b59b6;"></span> Impatto Economico/Industriale
                `;
                return div;
            };
            legend.addTo(map);
            // Fine Codice Leaflet
        });
    </script>
</body>
</html>
